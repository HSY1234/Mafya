(this.webpackJsonpmafya=this.webpackJsonpmafya||[]).push([[0],{134:function(e,t,n){e.exports={calenderOverlay:"calender_calenderOverlay__3P2un",calenderOverlayInner:"calender_calenderOverlayInner__18GJq",eventSpanAttend:"calender_eventSpanAttend__2GLgk",eventSpanAbscent:"calender_eventSpanAbscent__1TIZq",eventSpanStatus:"calender_eventSpanStatus__3ThXD",abscentColor:"calender_abscentColor__3tGso",tardyColor:"calender_tardyColor__3m0eq",attendColor:"calender_attendColor__Yz74K"}},135:function(e,t,n){e.exports={table:"teamMember_table__185b2",teamBoxAttend:"teamMember_teamBoxAttend__1x8YC",teamBoxAbscent:"teamMember_teamBoxAbscent__1k2Hh",teamInner:"teamMember_teamInner__2OAhu",teamName:"teamMember_teamName__3-lVt",teamStatus:"teamMember_teamStatus__14ll-",msgBtnFalse:"teamMember_msgBtnFalse__PrF_1",msgBtnTrue:"teamMember_msgBtnTrue__11ZV9",teamMemberTitle:"teamMember_teamMemberTitle__2_CBZ",teamMemberOverlay:"teamMember_teamMemberOverlay__23i_u"}},194:function(e,t,n){e.exports={wholePage:"studentMainPage_wholePage__oPUCy",gradient:"studentMainPage_gradient__3tPIX",inner:"studentMainPage_inner__2Bwrh",statusBox:"studentMainPage_statusBox__35EtL",attendInfoBox:"studentMainPage_attendInfoBox__ddU0g",teamMemberBox:"studentMainPage_teamMemberBox__bZV6w",calenderBox:"studentMainPage_calenderBox__2GzEh"}},232:function(e,t,n){e.exports={loadWrap:"spinner_loadWrap__1D2_s",line:"spinner_line__2gchi",load3:"spinner_load3__MKUAN",loadingC:"spinner_loadingC__gZ86l"}},233:function(e,t,n){e.exports={navbar:"student_navbar__NfDRz",navbar__logo:"student_navbar__logo__25bvI",navbar__menu:"student_navbar__menu__3wsj2",navbar__item:"student_navbar__item__1ZtWL",container:"student_container__2foaY"}},31:function(e,t,n){e.exports={wholePage:"webcam_wholePage__2EzIv",mainPageContainer:"webcam_mainPageContainer__Kbi3_",webCamArea:"webcam_webCamArea__dH3xC",detectNow:"webcam_detectNow__27y1L",nodetectNow:"webcam_nodetectNow__2etoE",tmp:"webcam_tmp__2xcGw",humanNow:"webcam_humanNow__2cMr5",noHumanNow:"webcam_noHumanNow__3EBWA",webCanvas:"webcam_webCanvas__3ICiQ",forMJDesign:"webcam_forMJDesign__1rt8z"}},484:function(e,t){},485:function(e,t){},493:function(e,t){},495:function(e,t){},496:function(e,t){},504:function(e,t){},505:function(e,t){},51:function(e,t,n){e.exports={wholePage:"mainPage_wholePage__3EcoS",inner:"mainPage_inner__39UfA",leftSideBox:"mainPage_leftSideBox__UEjj0",dangerInfoBox:"mainPage_dangerInfoBox__1Yyj6",teamStudentBox:"mainPage_teamStudentBox__AEZs6",rightSideBox:"mainPage_rightSideBox__YhMnP",boxTitle:"mainPage_boxTitle__202Dm",dangerListBox:"mainPage_dangerListBox__1beTO",dangerListLine:"mainPage_dangerListLine__3qMvf",teamStudentList:"mainPage_teamStudentList__3uSQ1",studentListItem:"mainPage_studentListItem__1Oomg",studentListItemFalse:"mainPage_studentListItemFalse__1YwS3",studentListInner:"mainPage_studentListInner__3ubkI",studentListCheckBox:"mainPage_studentListCheckBox__1RTLx",studentName:"mainPage_studentName__7ZgGt",dropbtn:"mainPage_dropbtn__1Q6Uh",dropdown:"mainPage_dropdown__1wpuL",dropdownContent:"mainPage_dropdownContent__SCrI1",dropdownItem:"mainPage_dropdownItem__3UXLL",sendBtn:"mainPage_sendBtn__2U0yY",falseSendBtn:"mainPage_falseSendBtn__1iYaw",notChecked:"mainPage_notChecked__3u71y",checked:"mainPage_checked__onjHe",fadeInUp1:"mainPage_fadeInUp1__7k5my",fadeInUp2:"mainPage_fadeInUp2__3yKNG",searchBox:"mainPage_searchBox__1LoNY",searchBoxBefore:"mainPage_searchBoxBefore__RJWjp",searchBtnBefore:"mainPage_searchBtnBefore__1bqrh",searchBoxAfter:"mainPage_searchBoxAfter__2XnRa",searchEnzineBox:"mainPage_searchEnzineBox__2w0vK",searchEnzineInput:"mainPage_searchEnzineInput__38h-i",searchEnzineBtn:"mainPage_searchEnzineBtn__t5F8u",noResult:"mainPage_noResult__3UDqW",studentTableBox:"mainPage_studentTableBox__3jLO0",studentTable:"mainPage_studentTable__1hmGc",tableBodyRow:"mainPage_tableBodyRow__2gbFJ",paigBox:"mainPage_paigBox__2BbI6",notOnPage:"mainPage_notOnPage__3UURR",onPage:"mainPage_onPage__atM9c",excelBox:"mainPage_excelBox__872SK",right:"mainPage_right__lJuwA",pulsate:"mainPage_pulsate__1iq_1"}},513:function(e,t){},665:function(e,t,n){},666:function(e,t,n){},670:function(e,t,n){e.exports={wholeContainer:"App_wholeContainer__1Y__5"}},671:function(e,t,n){"use strict";n.r(t);var a=n(16),r=n(231),c=n.n(r),o=n(1),s=n(12),i=n(2),u=(n(119),n(78)),l=n(79),d=n.n(l),b=n(64),m=n.n(b),f="https://mafya.ml/api/",j=n(31),h=n.n(j),p=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(f+"img/face/",t,{headers:{"Content-Type":"multipart/form-data"}});case 3:return n=e.sent,console.log(n),e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get(f+"gatelog/".concat(t,"/"));case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.post(f+"img/mask/",t,{headers:{"Content-Type":"multipart/form-data"}});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=n.p+"static/media/notenroll.19bbf980.mp3",w=n.p+"static/media/putmask.b718da42.mp3",v=n.p+"static/media/normalenter.67f8338d.mp3",_=n.p+"static/media/abnormalenter.8b7056cd.mp3",C=n.p+"static/media/twoenter.1edbcd9a.mp3",y=n.p+"static/media/correctmask.f5cbd4ad.mp3",N=n.p+"static/media/abnormalexit.a5286bad.mp3",k=n.p+"static/media/normalexit.1aa5791c.mp3",B=n.p+"static/media/notenroll1.ef0453e9.mp3",S=n.p+"static/media/absent.aae6e1a7.mp3",P=(n(532),n.p,n(232)),T=n.n(P),I=n(4),A=function(){return Object(I.jsx)("div",{children:Object(I.jsxs)("div",{class:T.a.load3,children:[Object(I.jsx)("div",{class:T.a.line}),Object(I.jsx)("div",{class:T.a.line}),Object(I.jsx)("div",{class:T.a.line}),Object(I.jsx)("div",{class:T.a.line})]})})},D=n(91),F=n.n(D),M=n(86),E=n(100),U=n(102),L=m.a.create({baseUrl:""}),H=!1,R=[],W="";L.interceptors.response.use((function(e){return e}),function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,a,r,c,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.config,a=t.response.data,console.log(n,a),console.log(t),r=a.status,c=n,408!==r){e.next=9;break}return H||(H=!0,console.log("reissue \uc804"),localStorage.getItem("token"),m.a.get(f+"token/reissue",{withCredentials:!0}).then((function(e){var t;console.log("reissue \uc815\uc0c1"),localStorage.setItem("user",e.data.accessToken),W=e.data.accessToken,H=!1,c.headers=Object(U.a)(Object(U.a)({},c.headers),{},{accessToken:W}),t=W,R.map((function(e){return e(t)}))})).catch((function(e){console.log("reissue \ub9c8\ubb34\ub9ac"),localStorage.clear(),window.location.href="/"}))),s=new Promise((function(e){var t;t=function(t){c.headers=Object(U.a)(Object(U.a)({},c.headers),{},{accessToken:t}),e(L(c))},R.push(t)})),e.abrupt("return",s);case 9:return e.abrupt("return",Promise.reject(t));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var z=L,q=function(e){var t=e.onPage,r=Object(M.g)(),c=Object(a.useState)(null),o=Object(i.a)(c,2),s=o[0],u=o[1],l=Object(a.useState)(!1),d=Object(i.a)(l,2),b=d[0],m=d[1],j=Object(a.useState)(!1),h=Object(i.a)(j,2),p=h[0],x=h[1],O=Object(a.useState)("\ud30c\uc77c\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694"),g=Object(i.a)(O,2),w=g[0],v=g[1],_=Object(a.useState)(!1),C=Object(i.a)(_,2),y=C[0],N=C[1],k=n(107),B=Object(a.useRef)();return Object(I.jsx)("nav",{role:"navigation",children:Object(I.jsxs)("div",{className:F.a.menuToggle,children:[Object(I.jsx)("input",{type:"checkbox"}),Object(I.jsx)("span",{}),Object(I.jsx)("span",{}),Object(I.jsx)("span",{}),Object(I.jsxs)("ul",{className:F.a.menu,children:[Object(I.jsx)("li",{children:1===t?Object(I.jsx)("div",{className:F.a.onThisPage,children:"\ud559\uc0dd \uc870\ud68c"}):Object(I.jsx)(E.b,{to:"/admin",className:F.a.navbar__item,children:"\ud559\uc0dd \uc870\ud68c"})}),Object(I.jsx)("li",{children:2===t?Object(I.jsx)("div",{className:F.a.onThisPage,children:"\ud559\uc0dd \ucd94\uac00"}):Object(I.jsx)(E.b,{to:"/admin/form",state:null,className:F.a.navbar__item,children:"\ud559\uc0dd \ucd94\uac00"})}),Object(I.jsxs)("li",{className:F.a.webCamList,children:[Object(I.jsx)("span",{className:F.a.webCamBtn,onClick:function(){x(!p)},children:"\ucd9c\uc11d \uc2dc\uc2a4\ud15c"}),Object(I.jsxs)("div",{className:p?F.a.downAllUserBox:F.a.noDownAllUserBox,children:[Object(I.jsx)(E.b,{to:"/enter",className:F.a.navbar__item,children:"\ud504\ub85c\ub2d8 \ubc84\uc804"}),Object(I.jsx)(E.b,{to:"/camera",className:F.a.navbar__item,children:"\ucee8\uc124\ud134\ud2b8\ub2d8 \ubc84\uc804"})]})]}),Object(I.jsxs)("li",{children:[Object(I.jsx)("span",{className:F.a.regiAllUser,onClick:function(){m(!b)},children:"\uc0ac\uc6a9\uc790 \uc77c\uad04 \ub4f1\ub85d"}),Object(I.jsxs)("div",{className:b?F.a.regiAllUserBox:F.a.noRegiAllUserBox,children:[Object(I.jsx)("div",{className:y?F.a.uploadedFile:F.a.notUploadedFile,onClick:function(){B.current.click()},children:w}),Object(I.jsx)("button",{onClick:function(){B.current.click()},children:"upload"}),Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.set("uploadUserFile",s),z.post(f+"excel/upload",t,{headers:{"Content-Type":"multipart/form-data",accessToken:window.localStorage.getItem("token")}}).then((function(e){alert("\ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),u(null);var t=document.querySelector('input[type="file"]'),n=new DataTransfer;t.files=n.files})).catch((function(e){alert("\ub4f1\ub85d \uc2e4\ud328"),u(null);var t=document.querySelector('input[type="file"]'),n=new DataTransfer;t.files=n.files}))},children:[Object(I.jsx)("input",{type:"file",id:"user_excel",accept:".xls,.xlsx",ref:B,onChange:function(e){e.preventDefault(),console.log(e.target.files[0]);var t=e.target.files[0];u(t),v(e.target.files[0].name),N(!0)}}),Object(I.jsx)("button",{type:"submit",children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"file_upload"})})]})]})]}),Object(I.jsx)("li",{children:Object(I.jsx)("span",{className:F.a.downAllUser,onClick:function(e){k.fire({title:"\ud559\uc0dd \uc815\ubcf4\ub97c \uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?",text:"\ub4f1\ub85d\ub41c \ubaa8\ub4e0 \ud559\uc0dd \uc815\ubcf4\ub97c \uc800\uc7a5\ud569\ub2c8\ub2e4.",icon:"question",showCancelButton:!0,confirmButtonColor:"#3396f4",cancelButtonColor:"#dc143cac",confirmButtonText:"\uc800\uc7a5",cancelButtonText:"\ucde8\uc18c"}).then((function(t){t.isConfirmed&&(k.fire({icon:"success",title:"\uc800\uc7a5 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",timer:1500}),e.preventDefault(),z.get(f+"excel/download",{headers:{accessToken:window.localStorage.getItem("token"),"Content-Type":"application/json"},responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data],{type:e.headers["content-type"]})),n=document.createElement("a");n.href=t,n.setAttribute("download","user.xlsx"),document.body.appendChild(n),n.click()})))}))},children:"\uc0ac\uc6a9\uc790 \uc77c\uad04 \uc800\uc7a5"})}),Object(I.jsx)("li",{children:Object(I.jsx)("span",{className:F.a.logoutBtn,onClick:function(e){k.fire({title:"\ud655\uc2e4\ud55c\uac00\uc694?",text:"\uad00\ub9ac\ud560 \ud559\uc0dd\ub4e4\uc774 \uc5c6\ub294\uc9c0 \ud655\uc778\ud558\uc138\uc694.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3396f4",cancelButtonColor:"#dc143cac",confirmButtonText:"\ub85c\uadf8\uc544\uc6c3",cancelButtonText:"\ucde8\uc18c"}).then((function(e){e.isConfirmed&&(k.fire({icon:"success",title:"\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.",timer:1500}),z.get(f+"student/logout/",{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){window.localStorage.clear(),r.push("/")})).catch((function(e){console.log(e),console.log(e)})))}))},children:"\ub85c\uadf8\uc544\uc6c3"})})]})]})})},G=n(107);var Y,J=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=r[0],l=r[1],b=Object(a.useState)(null),m=Object(i.a)(b,2),f=m[0],j=m[1],P=Object(a.useState)(!1),T=Object(i.a)(P,2),D=T[0],F=T[1],M=Object(a.useState)(!1),E=Object(i.a)(M,2),U=E[0],L=E[1],H=Object(a.useState)(null),R=Object(i.a)(H,2),W=R[0],z=R[1],Y=Object(a.useState)(null),J=Object(i.a)(Y,2),X=(J[0],J[1]),K=Object(a.useState)(!0),Z=Object(i.a)(K,2),V=Z[0],Q=Z[1],$=Object(a.useState)(!0),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],ae=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},re=function(t){return L(!0),new Promise((function(n){setTimeout(Object(s.a)(Object(o.a)().mark((function n(){var a,r,c,s,i;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getScreenshot(),r=ae(a,"test1.jpeg"),(c=new FormData).set("file",r),c.set("userCode",t),n.next=7,O(c);case 7:if("0"!==(s=n.sent).data.status){n.next=24;break}return n.next=11,x(t);case 11:if(0!==(i=n.sent).data){n.next=18;break}return new Audio(v).play(),G.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \ucd9c\uc11d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1),X(null)}),3e3)})));case 18:if(4!==i.data){n.next=22;break}return new Audio(C).play(),G.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \uc774\ubbf8 \uc785\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1),X(null)}),3e3)})));case 22:n.next=39;break;case 24:if("1"!==s.data.status){n.next=30;break}return new Audio(y).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1)}),3e3)})));case 30:if("2"!==s.data.status){n.next=36;break}return new Audio(y).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1)}),3e3)})));case 36:return new Audio(y).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1)}),3e3)})));case 39:case"end":return n.stop()}}),n)}))))}),6e3)},ce=function(t,n){return L(!0),new Promise((function(a){setTimeout(Object(s.a)(Object(o.a)().mark((function a(){var r,c,s,i;return Object(o.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.current.getScreenshot(),c=ae(r,"test1.jpeg"),(s=new FormData).set("file",c),s.set("userCode",t),a.next=7,O(s);case 7:if("0"!==(i=a.sent).data.status){a.next=21;break}if(10!==n){a.next=15;break}return new Audio(_).play(),G.fire({icon:"success",title:"".concat(i.data.name,"\ub2d8 \uc9c0\uac01\uc785\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1),X(null)}),3e3)})));case 15:if(99!==n){a.next=19;break}return new Audio(S).play(),G.fire({icon:"success",title:"".concat(i.data.name,"\ub2d8 \uc9c0\uac01 \ub204\uc801\uc73c\ub85c \uacb0\uc11d\ud588\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1),X(null)}),3e3)})));case 19:a.next=36;break;case 21:if("1"!==i.data.status){a.next=27;break}return new Audio(y).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1)}),3e3)})));case 27:if("2"!==i.data.status){a.next=33;break}return new Audio(y).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1)}),3e3)})));case 33:return new Audio(y).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1),L(!1)}),3e3)})));case 36:case"end":return a.stop()}}),a)}))))}),6e3)},oe=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return F(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=ae(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=14;break}return new Audio(w).play(),G.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc5b4\uc11c\uc624\uc138\uc694."),showConfirmButton:!1,timer:2500}),X(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){re(c.data.userCode)}),6e3)})));case 14:if("1"!==c.data.status){t.next=20;break}return new Audio(g).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1)}),2500)})));case 20:if("2"!==c.data.status){t.next=24;break}return new Audio(g).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1)}),2500)})));case 24:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),se=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return F(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c,s;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=ae(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=30;break}return t.next=10,x(c.data.userCode);case 10:if(3!==(s=t.sent).data&&12!==s.data){t.next=17;break}return new Audio(k).play(),G.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \ud1f4\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1)}),2500)})));case 17:if(2!==s.data&&11!==s.data){t.next=23;break}return new Audio(N).play(),G.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc870\uae30\ud1f4\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1)}),2500)})));case 23:if(10!==s.data&&99!==s.data){t.next=28;break}return new Audio(w).play(),G.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc785\uc2e4\ud588\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),X(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){ce(c.data.userCode,s.data)}),6e3)})));case 28:t.next=40;break;case 30:if("1"!==c.data.status){t.next=36;break}return new Audio(g).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1)}),2500)})));case 36:if("2"!==c.data.status){t.next=40;break}return new Audio(B).play(),G.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){F(!1)}),2500)})));case 40:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),ie=function(e){if(c.getHours()<9){if(e){var t=setInterval((function(){oe(e)}),1e3);j(t)}D&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(f),j(null))}else{if(e){var n=setInterval((function(){se(e)}),1e3);j(n)}D&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(f),j(null))}};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),z(t),Q(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(W),W&&!D?(console.log("\ud655\uc778"),ie(W)):W&&D&&ie(null)}),[D,W]),Object(a.useEffect)((function(){var e=setInterval((function(){l(new Date)}));return clearInterval(e)}),[]),Object(I.jsxs)("div",{className:h.a.wholePage,children:[Object(I.jsx)(q,{}),Object(I.jsxs)("div",{className:h.a.mainPageContainer,children:[Object(I.jsx)("div",{className:h.a.webCamBox,style:{display:V||te?"none":""},children:Object(I.jsx)("div",{className:U?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:D?U?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea,onUserMedia:function(){console.log("\uc6f9\ucea0 \ub85c\ub529\ub05d\ub0ac\uc5b4\uc694!!"),ne(!1)}}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})}),Object(I.jsx)("div",{style:{display:V||te?"":"none"},children:Object(I.jsx)(A,{})})]})]})},X=n(71),K=n.n(X),Z=n(685),V=function(){var e=Object(M.h)(),t=Object(M.g)(),n=e.state,r=Object(a.useState)(n?n.name:""),c=Object(i.a)(r,2),u=c[0],l=c[1],d=Object(a.useState)(n?n.userCode:""),b=Object(i.a)(d,2),j=b[0],h=b[1],p=Object(a.useState)(n?n.teamCode:""),x=Object(i.a)(p,2),O=x[0],g=x[1],w=Object(a.useState)(n?n.classCode:""),v=Object(i.a)(w,2),_=v[0],C=v[1],y=Object(a.useState)(n?n.phoneNum:""),N=Object(i.a)(y,2),k=N[0],B=N[1],S=Object(a.useState)(n?n.teamLeader:null),P=Object(i.a)(S,2),T=P[0],A=P[1],D=Object(a.useState)(!!n),F=Object(i.a)(D,2),E=F[0],U=F[1],L=Object(a.useState)(null),H=Object(i.a)(L,2),R=H[0],W=H[1],G=Object(a.useState)(null),Y=Object(i.a)(G,2),J=Y[0],X=Y[1],V=Object(a.useRef)();Object(a.useEffect)((function(){if(n)m.a.get(f+"img/".concat(n.userCode),{headers:{accessToken:window.localStorage.getItem("token")}}).then(function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,a,r,c,s,i,u,l,d;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data,X(n),e.next=4,fetch(n,{mode:"cors"});case 4:return a=e.sent,console.log(a),e.next=8,a.blob();case 8:r=e.sent,console.log(r),c=n.split(".").pop(),s=n.split("/").pop(),i={type:"image/".concat(c)},u=new File([r],s,i),W(u),l=document.querySelector('input[type="file"]'),(d=new DataTransfer).items.add(u),l.files=d.files;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());else{l(""),h(""),g(""),C(""),B(""),A(!1),U(!1),W(null),X(null);var e=document.querySelector('input[type="file"]'),t=new DataTransfer;e.files=t.files}}),[n]);var Q,$=function(){var e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=j,""!==j.trim()){e.next=4;break}return alert("\ud559\ubc88\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"),e.abrupt("return");case 4:m.a.get(f+"student/checkId/".concat(t),{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){if(0===e.data.resultCode)alert("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ud559\ubc88\uc785\ub2c8\ub2e4."),l((function(e){return u})),U((function(){return!0})),document.getElementById("userCode").readOnly=!0;else if(1===e.data.resultCode)return alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ud559\ubc88\uc785\ub2c8\ub2e4."),void U((function(){return!1}))})).catch((function(e){alert("\uc5d0\ub7ec \ubc1c\uc0dd")}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=u&&j&&O&&_&&k&&E&&(Q=T,console.log(typeof Q),console.log(Q),"boolean"===typeof Q)&&R,te=function(){var e=Object(s.a)(Object(o.a)().mark((function e(a){var r,c,s;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),r={name:u,userCode:j,teamCode:O,classCode:_,phoneNum:k,teamLeader:T},n?(z.put(f+"student/".concat(n.id),r,{headers:{"Content-Type":"application/json",accessToken:window.localStorage.getItem("token")}}).then((function(e){console.log("\ud559\uc0dd \uc815\ubcf4 \uc218\uc815 \uc644\ub8cc")})).catch((function(e){alert("\ud559\uc0dd \uc815\ubcf4 \uc218\uc815 \uc2e4\ud328")})),(s=new FormData).set("file",R),s.set("userCode",j),z.post(f+"img/register/".concat(j),s,{headers:{"Content-Type":"multipart/form-data",accessToken:window.localStorage.getItem("token")}}).then((function(e){alert("\ud559\uc0dd \uc815\ubcf4 \uc218\uc815 \uc644\ub8cc"),t.push("/admin")})).catch((function(e){alert("\ud559\uc0dd \uc815\ubcf4 \uc218\uc815 \uc2e4\ud328")}))):(z.post(f+"student/",r,{headers:{"Content-Type":"application/json",accessToken:window.localStorage.getItem("token")}}).then((function(e){console.log("\ud559\uc0dd \uc815\ubcf4 \ub4f1\ub85d \uc644\ub8cc")})).catch((function(e){alert("\ud559\uc0dd \uc815\ubcf4 \ub4f1\ub85d \uc2e4\ud328")})),(c=new FormData).set("file",R),c.set("userCode",j),z.post(f+"img/register/".concat(j),c,{headers:{"Content-Type":"multipart/form-data",accessToken:window.localStorage.getItem("token")}}).then((function(e){alert("\ud559\uc0dd \uc815\ubcf4 \ub4f1\ub85d \uc644\ub8cc"),window.location.reload()})).catch((function(e){alert("\ud559\uc0dd \uc815\ubcf4 \ub4f1\ub85d \uc2e4\ud328")})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:K.a.wholePage,children:[Object(I.jsx)(q,{onPage:2}),Object(I.jsx)("div",{className:K.a.firstPageBox,children:Object(I.jsx)("div",{className:K.a.overlay,children:Object(I.jsx)("form",{onSubmit:te,children:Object(I.jsxs)(Z.a,{container:!0,spacing:2,children:[Object(I.jsx)(Z.a,{item:!0,xs:4,className:K.a.imagePosition,children:Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:K.a.imagePosition,children:Object(I.jsxs)("div",{className:K.a.imagePlace,children:[Object(I.jsx)("div",{className:K.a.cutImage,children:Object(I.jsx)("img",{className:K.a.imageBox,src:J,alt:"",onClick:function(){V.current.click()}})}),Object(I.jsx)("input",{type:"file",accept:"image/jpg,impge/png,image/jpeg,image/gif",name:"profile_img",id:"file",ref:V,style:{display:"none"},onChange:function(e){e.preventDefault();var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){W(t),X(n.result)},t&&n.readAsDataURL(t)}})]})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("input",{className:"".concat(K.a.tgl," ").concat(K.a.tglskewed),id:"cb5",type:"checkbox",checked:T,onChange:function(e){console.log(e.target),A(!T)}}),Object(I.jsx)("label",{className:K.a.tglbtn,"data-tg-off":"\ud300\uc6d0","data-tg-on":"\ud300\uc7a5",for:"cb5"})]})]})}),Object(I.jsxs)(Z.a,{item:!0,xs:8,children:[Object(I.jsx)("span",{children:" \xa0\xa0\uc774\ub984"}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",id:"name",value:u,placeholder:"\uc774\ub984",onChange:function(e){var t=e.target.value;l(t)},className:K.a.userInput})}),Object(I.jsx)("div",{className:K.a.spacingLine,children:Object(I.jsx)("span",{className:K.a.userInputSpan,children:"\xa0\xa0\ud559\ubc88"})}),Object(I.jsxs)(Z.a,{container:!0,spacing:3,className:K.a.updown,children:[Object(I.jsx)(Z.a,{item:!0,xs:9,children:Object(I.jsx)("input",{type:"text",id:"userCode",value:j,readOnly:!!n,onChange:function(e){var t=e.target.value;h(t)},placeholder:"\ud559\ubc88",className:K.a.userCodeInput})}),Object(I.jsx)(Z.a,{item:!0,xs:3,children:Object(I.jsx)("button",{className:E?K.a.userCodeBtnsFalse:K.a.userCodeBtns,onClick:$,type:"button",children:n?"\uc218\uc815 \ubd88\uac00":E?"\uc0ac\uc6a9 \uac00\ub2a5":"\uc911\ubcf5 \ud655\uc778"})})]}),Object(I.jsxs)(Z.a,{container:!0,spacing:5,children:[Object(I.jsxs)(Z.a,{item:!0,xs:2,children:[Object(I.jsx)("span",{children:"\xa0\xa0\xa0\ubc18"}),Object(I.jsx)("input",{type:"text",id:"classCode",value:_,onChange:function(e){var t=e.target.value;C(t)},placeholder:"\ubc18",className:K.a.userInput})]}),Object(I.jsxs)(Z.a,{item:!0,xs:10,children:[Object(I.jsx)("span",{children:"\xa0\xa0\ud300 \ucf54\ub4dc"}),Object(I.jsx)("input",{type:"text",id:"teamCode",value:O,onChange:function(e){var t=e.target.value;g(t)},placeholder:"\ud300 \ucf54\ub4dc",className:K.a.userTeamInput})]})]}),Object(I.jsx)("div",{className:K.a.spacingLine,children:Object(I.jsx)("span",{children:"\xa0\xa0\ud578\ub4dc\ud3f0 \ubc88\ud638"})}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"text",id:"phoneNum",value:k,onChange:function(e){var t=e.target.value;B(t)},placeholder:"- \uc5c6\uc774 \uc785\ub825\ud558\uc138\uc694",className:K.a.userInput})}),Object(I.jsxs)(Z.a,{container:!0,children:[Object(I.jsx)(Z.a,{item:!0,xs:12,className:K.a.centered,children:Object(I.jsx)("button",{disabled:!ee,className:ee?K.a.registerBtn:K.a.registerBtnFalse,children:n?"\uc815\ubcf4 \uc218\uc815":"Register"})}),Object(I.jsx)(Z.a,{item:!0,xs:6,className:K.a.centered,children:Object(I.jsxs)("button",{onClick:function(e){e.preventDefault(),l(""),h(""),g(""),C(""),B(""),A(!1),U(!1),W(null),X(null)},className:K.a.resetBtn,children:[" ","Reset"," "]})}),Object(I.jsx)(Z.a,{item:!0,xs:6,className:K.a.centered,children:Object(I.jsxs)("button",{onClick:function(){t.push("/admin")},className:K.a.backBtn,children:[" ","Back"," "]})})]})]})]})})})})]})},Q=n(24),$=function(e){var t=e.student,n=e.searchMmsHandler,a=e.updateHandler,r=e.setIds;return Object(I.jsxs)("tr",{children:[Object(I.jsx)("td",{children:t.date.substr(5)}),Object(I.jsx)("td",{children:t.classCode}),Object(I.jsx)("td",{children:t.teamCode}),Object(I.jsx)("td",{children:t.userCode}),Object(I.jsx)("td",{children:t.name}),Object(I.jsxs)("td",{children:[" ",t.phoneNum.slice(0,3),"-",t.phoneNum.slice(3,7),"-",t.phoneNum.slice(7,11)]}),Object(I.jsx)("td",{children:t.teamLeader?"\ud300\uc7a5":"\ud300\uc6d0"}),Object(I.jsx)("td",{children:t.absent}),Object(I.jsx)("td",{children:t.trady}),Object(I.jsx)("td",{children:t.trace}),Object(I.jsxs)("td",{children:[Object(I.jsx)("button",{type:"button",onClick:function(e){return a(t)},children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"edit"})}),Object(I.jsx)("button",{type:"button",onClick:function(){n(),r(t.id)},children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"outgoing_mail"})})]})]})},ee=n(51),te=n.n(ee),ne=(n(661),n(665),function(e){var t=e.total,n=e.limit,a=e.page,r=e.setPage,c=Math.ceil(t/n);return Object(I.jsxs)("div",{className:te.a.paigBox,children:[Object(I.jsx)("button",{onClick:function(){return r(a-1)},disabled:1===a,children:"<"}),Array(c).fill().map((function(e,t){return Object(I.jsx)("button",{onClick:function(){return r(t+1)},"aria-current":a===t+1?"page":null,className:a===t+1?te.a.onPage:te.a.notOnPage,children:Object(I.jsx)("span",{children:t+1})},t+1)})),Object(I.jsx)("button",{onClick:function(){return r(a+1)},disabled:a===c,children:">"})]})}),ae=(n(666),function(e){var t=e.open,n=e.close,a=e.header;return Object(I.jsx)("div",{className:t?"openModal modal":"modal",onClick:n,children:t?Object(I.jsxs)("section",{onClick:function(e){return function(e){e.stopPropagation()}(e)},children:[Object(I.jsxs)("header",{children:[a,Object(I.jsx)("button",{className:"close",onClick:n,children:"\xd7"})]}),Object(I.jsx)("div",{className:"modalIcon",children:Object(I.jsx)("div",{className:"modalIconBox",children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"contact_mail"})})}),Object(I.jsx)("main",{children:e.children})]}):null})}),re=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),r=t[0],c=t[1],o=Object(a.useState)(!0),s=Object(i.a)(o,2),u=s[0],l=s[1],d=Object(a.useState)([]),b=Object(i.a)(d,2),m=b[0],j=b[1],h=Object(a.useState)([]),p=Object(i.a)(h,2),x=p[0],O=p[1],g=Object(a.useState)(10),w=Object(i.a)(g,2),v=w[0],_=(w[1],Object(a.useState)(1)),C=Object(i.a)(_,2),y=C[0],N=C[1],k=Object(a.useState)(null),B=Object(i.a)(k,2),S=B[0],P=B[1],T=(y-1)*v,A=Object(a.useState)([]),D=Object(i.a)(A,2),F=D[0],E=D[1],U=Object(a.useState)([]),L=Object(i.a)(U,2),H=L[0],R=L[1],W=Object(a.useState)(!1),G=Object(i.a)(W,2),Y=G[0],J=G[1],X=Object(a.useState)(""),K=Object(i.a)(X,2),Z=K[0],V=K[1],ee=Object(a.useState)(!1),re=Object(i.a)(ee,2),ce=re[0],oe=re[1],se=Object(a.useState)(!1),ie=Object(i.a)(se,2),ue=ie[0],le=ie[1],de=Object(a.useState)(!1),be=Object(i.a)(de,2),me=be[0],fe=be[1],je=Object(a.useState)(!1),he=Object(i.a)(je,2),pe=he[0],xe=he[1],Oe=Object(a.useState)(!1),ge=Object(i.a)(Oe,2),we=ge[0],ve=ge[1],_e=Object(a.useState)(!1),Ce=Object(i.a)(_e,2),ye=Ce[0],Ne=Ce[1],ke=Object(a.useState)(!1),Be=Object(i.a)(ke,2),Se=Be[0],Pe=Be[1],Te=Object(a.useState)(!1),Ie=Object(i.a)(Te,2),Ae=Ie[0],De=Ie[1],Fe=Object(a.useState)(!1),Me=Object(i.a)(Fe,2),Ee=Me[0],Ue=Me[1],Le=Object(a.useState)(null),He=Object(i.a)(Le,2),Re=(He[0],He[1],Object(a.useState)("")),We=Object(i.a)(Re,2),ze=We[0],qe=We[1],Ge=Object(a.useState)(!0),Ye=Object(i.a)(Ge,2),Je=(Ye[0],Ye[1]),Xe=Object(a.useState)(!1),Ke=Object(i.a)(Xe,2),Ze=Ke[0],Ve=Ke[1],Qe=Object(a.useState)(!1),$e=Object(i.a)(Qe,2),et=$e[0],tt=$e[1],nt=Object(a.useState)(!1),at=Object(i.a)(nt,2),rt=at[0],ct=at[1],ot=Object(a.useState)(null),st=Object(i.a)(ot,2),it=st[0],ut=st[1],lt=n(107),dt=function(e){var t=e.target.value;V(t)},bt=Object(M.g)(),mt=function(e){bt.push({pathname:"/admin/form",state:e})};Object(a.useEffect)((function(){l(!0);var e=window.localStorage.getItem("classCode");!function(e){z.get(f+"attendance/danger/".concat(e),{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){j(e.data)})).catch((function(e){alert("\uc704\ud5d8 \ub9ac\uc2a4\ud2b8 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))}(e),qe(e),l(!0),function(e){z.get(f+"attendance/class/".concat(e),{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){O(e.data)})).catch((function(e){alert("\ud559\uc0dd \ub9ac\uc2a4\ud2b8 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")}))}(e),l(!1),Je(!0),z.post(f+"search",{content:ze,tradyOrder:Se,absentOrder:ye},{headers:{accessToken:window.localStorage.getItem("token"),"Content-Type":"application/json"}}).then((function(e){c(e.data),P(e.data.length),oe(!1),Ne(!ye),xe(!1),le(!1),ve(!1),fe(!1),Pe(!Se),Ue(!1),N(1)})).catch((function(e){alert("\ud559\uc0dd \ub9ac\uc2a4\ud2b8 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")})),Je(!1)}),[]);var ft=function(e){ct(!0)};return!u&&Object(I.jsxs)("div",{children:[Object(I.jsx)(ae,{open:Y,close:function(){J(!1),V("")},header:"",children:Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={ids:F,messages:Z};z.post(f+"mms",t,{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){lt.fire({icon:"success",title:"\uba54\uc138\uc9c0\uac00 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",timer:1500}),J(!1),V("")})).catch((function(e){console.log(e)}))},children:[Object(I.jsx)("span",{children:"\uc804\uc1a1\ud560 \uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694!"}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"textarea",value:Z,onChange:dt})}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"submit",className:"close",children:"\uc804\uc1a1"})})]})}),Object(I.jsx)(ae,{open:Ze,close:function(){Ve(!1),V("")},header:"",children:Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log("\ud14c\uc2a4\ud2b8",H);var t={ids:H,messages:Z};z.post(f+"mms",t,{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){lt.fire({icon:"success",title:"\uba54\uc138\uc9c0\uac00 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",timer:1500}),Ve(!1),V("")})).catch((function(e){console.log(e)}))},children:[Object(I.jsx)("span",{children:"\uc804\uc1a1\ud560 \uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694!"}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"textarea",value:Z,onChange:dt})}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"submit",className:"close",children:"\uc804\uc1a1"})})]})}),Object(I.jsx)(ae,{open:rt,close:function(){ct(!1),V("")},header:"",children:Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={ids:[it],messages:Z};console.log(t),z.post(f+"mms",t,{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){lt.fire({icon:"success",title:"\uba54\uc138\uc9c0\uac00 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",timer:1500}),ct(!1),V(""),ut(null)})).catch((function(e){console.log(e)}))},children:[Object(I.jsx)("span",{children:"\uc804\uc1a1\ud560 \uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694!"}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"textarea",value:Z,onChange:dt})}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"submit",className:"close",children:"\uc804\uc1a1"})})]})}),Object(I.jsxs)("div",{className:te.a.wholePage,children:[Object(I.jsx)(q,{onPage:1}),Object(I.jsxs)("div",{className:te.a.inner,children:[Object(I.jsxs)("div",{className:te.a.leftSideBox,children:[Object(I.jsxs)("div",{className:te.a.teamStudentBox,children:[Object(I.jsx)("div",{className:te.a.boxTitle,children:"\uacb0\uc11d \uc704\ud5d8\uad70 \uba85\ub2e8"}),Object(I.jsx)("div",{className:te.a.teamStudentList,children:Object(I.jsx)("div",{children:null===m||void 0===m?void 0:m.map((function(e,t){return Object(I.jsx)("div",{className:H.includes(e.id)?te.a.studentListItem:te.a.studentListItemFalse,onClick:function(t){return e.id,n=e.id,void(H.includes(n)?R(H.filter((function(e){return e!==n}))):R((function(e){return[].concat(Object(Q.a)(e),[n])})));var n},children:Object(I.jsxs)("div",{className:te.a.studentListInner,children:[Object(I.jsx)("input",{className:te.a.studentListCheckBox,type:"checkbox",name:"select-".concat(e.id),id:e.id,checked:!!H.includes(e.id)}),Object(I.jsx)("div",{children:Object(I.jsx)("span",{className:te.a.studentName,children:e.name})}),Object(I.jsx)("div",{children:Object(I.jsxs)("span",{children:[e.phoneNum.slice(0,3),"-",e.phoneNum.slice(3,7),"-",e.phoneNum.slice(7,11)]})})]})},t)}))})}),Object(I.jsxs)("div",{className:te.a.dropdown,children:[Object(I.jsxs)("div",{className:te.a.dropdownContent,children:[Object(I.jsx)("div",{className:te.a.dropdownItem,children:Object(I.jsx)("form",{onSubmit:function(e){e.preventDefault(),Ve(!0)},children:Object(I.jsx)("button",{className:H.length?te.a.sendBtn:te.a.falseSendBtn,disabled:!H.length,type:"submit",children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"outgoing_mail"})})})}),Object(I.jsx)("div",{onClick:function(e){if(H.length===m.length)R([]);else{var t=[];m.forEach((function(e){return t.push(e.id)})),R(t)}},className:te.a.dropdownItem,children:H.length&&H.length===m.length?Object(I.jsx)("div",{className:te.a.checked,children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"done_all"})}):Object(I.jsx)("div",{className:te.a.notChecked,children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"done_all"})})})]}),Object(I.jsx)("button",{className:te.a.dropbtn,children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"send"})})]})]}),Object(I.jsxs)("div",{className:te.a.teamStudentBox,children:[Object(I.jsx)("div",{className:te.a.boxTitle,children:"\uae08\uc77c \ubbf8\ucd9c\uc11d \uba85\ub2e8"}),Object(I.jsx)("div",{className:te.a.teamStudentList,children:Object(I.jsx)("div",{children:null===x||void 0===x?void 0:x.map((function(e,t){return Object(I.jsx)("div",{className:F.includes(e.id)?te.a.studentListItem:te.a.studentListItemFalse,onClick:function(t){return e.id,n=e.id,F.includes(n)?E(F.filter((function(e){return e!==n}))):E((function(e){return[].concat(Object(Q.a)(e),[n])})),void console.log(F);var n},children:Object(I.jsxs)("div",{className:te.a.studentListInner,children:[Object(I.jsx)("input",{className:te.a.studentListCheckBox,type:"checkbox",name:"select-".concat(e.id),id:e.id,checked:!!F.includes(e.id)}),Object(I.jsx)("div",{children:Object(I.jsx)("span",{className:te.a.studentName,children:e.name})}),Object(I.jsx)("div",{children:Object(I.jsxs)("span",{children:[e.phoneNum.slice(0,3),"-",e.phoneNum.slice(3,7),"-",e.phoneNum.slice(7,11)]})})]})},t)}))})}),Object(I.jsxs)("div",{className:te.a.dropdown,children:[Object(I.jsxs)("div",{className:te.a.dropdownContent,children:[Object(I.jsx)("div",{className:te.a.dropdownItem,children:Object(I.jsx)("form",{onSubmit:function(e){e.preventDefault(),J(!0)},children:Object(I.jsx)("button",{className:F.length?te.a.sendBtn:te.a.falseSendBtn,disabled:!F.length,type:"submit",children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"outgoing_mail"})})})}),Object(I.jsx)("div",{onClick:function(e){if(F.length===x.length)E([]);else{var t=[];x.forEach((function(e){return t.push(e.id)})),E(t)}},className:te.a.dropdownItem,children:F.length&&F.length===x.length?Object(I.jsx)("div",{className:te.a.checked,children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"done_all"})}):Object(I.jsx)("div",{className:te.a.notChecked,children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"done_all"})})})]}),Object(I.jsx)("button",{className:te.a.dropbtn,children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"send"})})]})]})]}),Object(I.jsxs)("div",{className:te.a.rightSideBox,children:[Object(I.jsxs)("div",{className:te.a.boxTitle,children:["\ud559\uc0dd \uc870\ud68c",Object(I.jsx)("span",{onClick:function(){lt.fire({icon:"info",title:"\uc0ac\uc6a9 \ubc29\ubc95",html:'\n\n      <div style=\'text-align:start;line-height:2rem; font-family:"Pretendard-Regular";\'>\n      1. ["" or "\uc804\uccb4"]<br><div style=\'width:100%;height:0.5rem;\'></div>\n      2. ["\uacb0\uc11d" or "\uc9c0\uac01"] [\ubc18 \uc774\ub984, ... Default X]<br> &nbsp&nbsp[\ud300\ucf54\ub4dc, ... Default X] [\ub0a0\uc9dc, Default \uc624\ub298] <br><div style=\'width:100%;height:0.5rem;\'></div>\n      3. [\ubc18 \uc774\ub984, ... Deafult X] [\ud300 \ucf54\ub4dc, ... Deafult X]<br>&nbsp &nbsp[\ub0a0\uc9dc, ... or "\uc804\ubd80" Default \uc624\ub298]<br><div style=\'width:100%;height:0.5rem;\'></div>\n      4. ["\uc774\ub984", ... Deafult X] [\ub0a0\uc9dc, ... or "\uc804\ubd80" Default \uc624\ub298]<br> \n      </div>'})},className:"material-symbols-outlined",children:"help"})]}),Object(I.jsx)("div",{className:te.a.searchBox,children:et?Object(I.jsx)("div",{className:te.a.searchBoxBefore,onClick:function(){tt(!0)},children:Object(I.jsx)("div",{className:te.a.searchBtnBefore,children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"search"})})}):Object(I.jsxs)("div",{className:te.a.searchBoxAfter,children:[Object(I.jsx)("div",{className:te.a.searchEnzineBox,children:Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Je(!0),z.post(f+"search",{content:ze,tradyOrder:Se,absentOrder:ye},{headers:{accessToken:window.localStorage.getItem("token"),"Content-Type":"application/json"}}).then((function(e){c(e.data),P(e.data.length),oe(!1),Ne(!ye),xe(!1),le(!1),ve(!1),fe(!1),Pe(!Se),Ue(!1),N(1)})).catch((function(e){alert("\ud559\uc0dd \ub9ac\uc2a4\ud2b8 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.")})),Je(!1)},children:[Object(I.jsx)("input",{className:te.a.searchEnzineInput,type:"text",onChange:function(e){var t=e.target.value;qe(t)}}),Object(I.jsx)("button",{className:te.a.searchEnzineBtn,type:"submit",children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"search"})})]})}),Object(I.jsx)("div",{className:te.a.studentTableBox,children:r.length?Object(I.jsxs)("div",{children:[Object(I.jsxs)("table",{className:te.a.studentTable,children:[Object(I.jsx)("thead",{children:Object(I.jsxs)("tr",{children:[Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),ce&&r.length){oe(!ce);var t=r;t.sort((function(e,t){return new Date(e.date)-new Date(t.date)})),c(t),N(1)}else if(!ce&&r.length){oe(!ce);var n=r;n.sort((function(e,t){return new Date(t.date)-new Date(e.date)})),c(n),N(1)}},children:"\ub0a0\uc9dc"}),Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),pe&&r.length){xe(!pe);var t=r;t.sort((function(e,t){return e.classCode.localeCompare(t.classCode)})),c(t),N(1)}else if(!pe&&r.length){xe(!pe);var n=r;n.sort((function(e,t){return t.classCode.localeCompare(e.classCode)})),c(n),N(1)}},children:"\ubc18"}),Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),we&&r.length){ve(!we);var t=r;t.sort((function(e,t){return e.teamCode.localeCompare(t.teamCode)})),c(t),N(1)}else if(!we&&r.length){ve(!we);var n=r;n.sort((function(e,t){return t.teamCode.localeCompare(e.teamCode)})),c(n),N(1)}},children:"\ud300 \ucf54\ub4dc"}),Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),me&&r.length){fe(!me);var t=r;t.sort((function(e,t){return e.userCode.localeCompare(t.userCode)})),c(t),N(1)}else if(!me&&r.length){fe(!me);var n=r;n.sort((function(e,t){return t.userCode.localeCompare(e.userCode)})),c(n),N(1)}},children:"\ud559\ubc88"}),Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),ue&&r.length){le(!ue);var t=r;t.sort((function(e,t){return e.name.localeCompare(t.name)})),c(t),N(1)}else if(!ue&&r.length){le(!ue);var n=r;n.sort((function(e,t){return t.name.localeCompare(e.name)})),c(n),N(1)}},children:"\uc774\ub984"}),Object(I.jsx)("th",{children:"\uc804\ud654\ubc88\ud638"}),Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),Ee&&r.length){Ue(!Ee);var t=r;t.sort((function(e,t){return e.teamLeader-t.teamLeader})),c(t),N(1)}else if(!Ee&&r.length){Ue(!Ee);var n=r;n.sort((function(e,t){return t.teamLeader-e.teamLeader})),c(n),N(1)}},children:"\uc9c1\uc704"}),Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),ye&&r.length){Ne(!ye);var t=r;t.sort((function(e,t){return e.absent-t.absent})),c(t),N(1)}else if(!ye&&r.length){Ne(!ye);var n=r;n.sort((function(e,t){return t.absent-e.absent})),c(n),N(1)}},children:"\uacb0\uc11d"}),Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),Se&&r.length){Pe(!Se);var t=r;t.sort((function(e,t){return e.trady-t.trady})),c(t),N(1)}else if(!Se&&r.length){Pe(!Se);var n=r;n.sort((function(e,t){return t.trady-e.trady})),c(n),N(1)}},children:"\uc9c0\uac01"}),Object(I.jsx)("th",{onClick:function(e){if(e.preventDefault(),Ae&&r.length){De(!Ae);var t=r;t.sort((function(e,t){return e.trace.localeCompare(t.trace)})),c(t),N(1)}else if(!Ae&&r.length){De(!Ae);var n=r;n.sort((function(e,t){return t.trace.localeCompare(e.trace)})),c(n),N(1)}},children:"\uc0c1\ud0dc"}),Object(I.jsx)("th",{})]})}),Object(I.jsx)("tbody",{children:r.slice(T,T+v).map((function(e){return Object(I.jsx)($,{student:e,searchMmsHandler:ft,updateHandler:mt,setIds:ut},r.indexOf(e))}))})]}),Object(I.jsx)("div",{className:te.a.excelBox,children:Object(I.jsx)("button",{onClick:function(e){e.preventDefault(),r.length&&z.post(f+"excel/search",{content:ze,tradyOrder:Se,absentOrder:ye},{headers:{accessToken:window.localStorage.getItem("token"),"Content-Type":"application/json"},responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data],{type:e.headers["content-type"]})),n=document.createElement("a");n.href=t,n.setAttribute("download","search.xlsx"),document.body.appendChild(n),n.click()}))},children:Object(I.jsx)("span",{class:"material-symbols-outlined",children:"download"})})})]}):Object(I.jsx)("div",{className:te.a.noResult,children:Object(I.jsx)("p",{children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})}),r.length?Object(I.jsx)(ne,{total:S,limit:v,page:y,setPage:N}):Object(I.jsx)("div",{})]})})]})]})]})]})},ce=n(68),oe=n.n(ce),se=n.p+"static/media/mafya_logo.f49f9419.png",ie=function(){var e=Object(M.g)(),t=Object(a.useState)(""),n=Object(i.a)(t,2),r=n[0],c=n[1],u=Object(a.useState)(""),l=Object(i.a)(u,2),d=l[0],b=l[1],j=Object(a.useState)(!1),h=Object(i.a)(j,2),p=h[0],x=h[1],O=Object(a.useState)(!1),g=Object(i.a)(O,2),w=g[0],v=g[1],_=r&&d,C=function(){var t=Object(s.a)(Object(o.a)().mark((function t(n){var a;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),a={userCode:r,password:d},m.a.post(f+"student/login/",a,{headers:{"Content-Type":"application/json"}}).then((function(t){if(0===t.data.resultCode){window.localStorage.setItem("userCode",r);var n=t.data.accessToken;window.localStorage.setItem("token",n),"Y"===t.data.isManager?(window.localStorage.setItem("isManager",t.data.isManager),window.localStorage.setItem("classCode",t.data.classCode),e.push("/admin")):(window.localStorage.setItem("teamCode",t.data.teamCode),e.push("/student"))}else alert("\ub85c\uadf8\uc778 \uc5d0\ub7ec")})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(I.jsxs)("div",{className:p?oe.a.loginBack:w?oe.a.loginBackChanger:oe.a.loginBackBefore,children:[Object(I.jsx)("div",{className:oe.a.overlay,onClick:function(e){v(!0),setTimeout((function(){x(!0)}),1e3)},children:p?Object(I.jsxs)("div",{className:oe.a.overlay_Inner,children:[Object(I.jsx)("div",{className:oe.a.overlay_title,children:Object(I.jsx)("h2",{children:"Login"})}),Object(I.jsxs)("div",{className:oe.a.division,children:[Object(I.jsx)("div",{className:oe.a.inputBox,children:Object(I.jsxs)("form",{onSubmit:C,children:[Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{children:Object(I.jsx)("span",{children:"\uc544\uc774\ub514"})}),Object(I.jsx)("input",{onChange:function(e){c(e.target.value)},type:"text",id:"userCode",placeholder:"\uc544\uc774\ub514",className:oe.a.loginInput})]}),Object(I.jsxs)("div",{className:oe.a.passwordBox,children:[Object(I.jsx)("div",{children:Object(I.jsx)("span",{children:"\ube44\ubc00\ubc88\ud638"})}),Object(I.jsx)("input",{onChange:function(e){b(e.target.value)},type:"password",id:"password",placeholder:"\ube44\ubc00\ubc88\ud638",className:oe.a.loginInput})]}),Object(I.jsx)("div",{className:oe.a.loginBtnBox,children:Object(I.jsx)("button",{className:_?oe.a.loginBtn:oe.a.loginBtnFalse,type:"submit",disabled:!_,children:"\ub85c\uadf8\uc778"})})]})}),Object(I.jsx)("div",{className:oe.a.infoBox,children:Object(I.jsx)("div",{children:Object(I.jsxs)("div",{className:oe.a.clauseText,children:[Object(I.jsx)("p",{children:"\uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9"}),Object(I.jsx)("br",{}),Object(I.jsx)("p",{children:"1. \uac1c\uc778\uc815\ubcf4\uc758 \uc218\uc9d1\ubaa9\uc801"}),Object(I.jsx)("p",{children:"\ubcf8 \ud648\ud398\uc774\uc9c0\uc5d0\uc11c\ub294 \uae30\ubcf8\uc801\uc778 \ud68c\uc6d0 \uc11c\ube44\uc2a4 \uc81c\uacf5\uc744 \uc704\ud55c \ud544\uc218\uc815\ubcf4\ub97c \uc218\uc9d1\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. MaFya \ud648\ud398\uc774\uc9c0\uc5d0\uc11c\ub294 \uc815\ubcf4\uc8fc\uccb4\uc758 \uae30\ubcf8\uc801 \uc778\uad8c \uce68\ud574\uc758 \uc6b0\ub824\uac00 \uc788\ub294 \ubbfc\uac10\ud55c \uac1c\uc778\uc815\ubcf4(\uc0ac\uc0c1,\uc2e0\ub150, \ub178\ub3d9\uc870\ud569,\uc815\ub2f9\uc758 \uac00\uc785,\ud0c8\ud1f4, \uc815\uce58\uc801 \uacac\ud574, \uac74\uac15, \uc131\uc0dd\ud65c, \uc720\uc804\uc815\ubcf4 \ubc0f \ubc94\uc8c4\uacbd\ub825\uc5d0 \uad00\ud55c \uc815\ubcf4 \ub4f1)\ub294 \uc218\uc9d1\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}),Object(I.jsx)("br",{}),Object(I.jsx)("p",{children:"\uac00. \uc218\uc9d1\ud558\ub294 \uac1c\uc778\uc815\ubcf4\uc758 \ud56d\ubaa9"}),Object(I.jsx)("p",{children:"\u25cb \ubcf8 \ud648\ud398\uc774\uc9c0 \ud68c\uc6d0\uc11c\ube44\uc2a4\uc758 \uc81c\uacf5\uc744 \uc704\ud574 \uc544\ub798\uc640 \uac19\uc740 \ud68c\uc6d0\uc815\ubcf4\ub97c \uc628\ub77c\uc778\uc0c1\uc5d0\uc11c \uc785\ub825\ubc1b\uace0 \uc788\uc2b5\ub2c8\ub2e4."}),Object(I.jsx)("p",{children:"- \uc774\ub984, \uc804\ud654\ubc88\ud638, \ud504\ub85c\ud544 \uc0ac\uc9c4"}),Object(I.jsx)("p",{children:"\u25cb \uc5ec\ub7ec\ubd84\uc774 \ubcf8 \ud648\ud398\uc774\uc9c0\ub97c \uc774\uc6a9\ud560 \uacbd\uc6b0 \ub2e4\uc74c\uc758 \uc815\ubcf4\ub294 \uc790\ub3d9\uc801\uc73c\ub85c \uc218\uc9d1,\uc800\uc7a5\ub429\ub2c8\ub2e4."}),Object(I.jsx)("p",{children:"- \ub85c\uadf8\uc778 \uc77c\uc2dc, \ud68c\uc6d0 \uac00\uc785 \uc77c\uc2dc"}),Object(I.jsx)("br",{}),Object(I.jsx)("p",{children:"\ub098. \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1\ubc29\ubc95"}),Object(I.jsx)("p",{children:"\u25cb \ud648\ud398\uc774\uc9c0 \uad00\ub9ac\uc790\uc5d0 \uc758\ud55c \ub4f1\ub85d"}),Object(I.jsx)("br",{}),Object(I.jsx)("p",{children:"2. \uac1c\uc778\uc815\ubcf4\uc758 \uc218\uc9d1\xb7\uc774\uc6a9\ubaa9\uc801 \ubc0f \ubcf4\uc720\xb7\uc774\uc6a9\uae30\uac04"}),Object(I.jsx)("p",{children:"MaFya \ud648\ud398\uc774\uc9c0\uc5d0\uc11c\ub294 \uc815\ubcf4\uc8fc\uccb4\uc758 \ud68c\uc6d0 \uac00\uc785\uc77c\ub85c\ubd80\ud130 \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\ub294 \uae30\uac04 \ub3d9\uc548\uc5d0 \ud55c\ud558\uc5ec MaFya \ud648\ud398\uc774\uc9c0 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uae30 \uc704\ud55c \ucd5c\uc18c\ud55c\uc758 \uac1c\uc778\uc815\ubcf4\ub97c \ubcf4\uc720 \ubc0f \uc774\uc6a9 \ud558\uac8c \ub429\ub2c8\ub2e4. \ud68c\uc6d0\uac00\uc785 \ub4f1\uc744 \ud1b5\ud574 \uac1c\uc778\uc815\ubcf4\uc758 \uc218\uc9d1, \uc774\uc6a9, \uc81c\uacf5 \ub4f1\uc5d0 \ub300\ud574 \ub3d9\uc758\ud558\uc2e0 \ub0b4\uc6a9\uc740 \uc5b8\uc81c\ub4e0\uc9c0 \ucca0\ud68c\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud68c\uc6d0 \ud0c8\ud1f4\ub97c \uc694\uccad\ud558\uac70\ub098 \uc218\uc9d1, \uc774\uc6a9\ubaa9\uc801\uc744 \ub2ec\uc131\ud558\uac70\ub098 \ubcf4\uc720, \uc774\uc6a9\uae30\uac04\uc774 \uc885\ub8cc\ud55c \uacbd\uc6b0, \uc0ac\uc5c5 \ud3d0\uc9c0 \ub4f1\uc758 \uc0ac\uc720\ubc1c\uc0dd\uc2dc \ub2f9\ud574 \uac1c\uc778\uc815\ubcf4\ub97c \uc9c0\uccb4\uc5c6\uc774 \ud30c\uae30\ud569\ub2c8\ub2e4."}),Object(I.jsx)("p",{children:"\u25cb \uac1c\uc778\uc815\ubcf4\uc758 \uc218\uc9d1,\uc774\uc6a9 \ubaa9\uc801"}),Object(I.jsx)("p",{children:"- \ud648\ud398\uc774\uc9c0 \uc774\uc6a9\uc5d0 \ub530\ub978 \ubcf8\uc778 \uc2dd\ubcc4, \uc778\uc99d \uc808\ucc28\uc5d0 \uc774\uc6a9"}),Object(I.jsx)("p",{children:"\u25cb \uac1c\uc778\uc815\ubcf4\uc758 \ubcf4\uc720 \ubc0f \uc774\uc6a9\uae30\uac04"}),Object(I.jsx)("p",{children:"- \uac1c\uc778\uc815\ubcf4\ub294 \ub4f1\ub85d \ud6c4 1\ub144\uae4c\uc9c0 \ubcf4\uc720\ub418\uba70, \uc815\ubcf4\uc8fc\uccb4\ub294 \uac1c\uc778\uc815\ubcf4\uc758 \uc218\uc9d1\xb7\uc774\uc6a9\ubaa9\uc801\uc5d0 \ub300\ud55c \ub3d9\uc758\ub97c \uac70\ubd80\ud560 \uc218 \uc788\uace0, \ub3d9\uc758 \uac70\ubd80\uc2dc\uc5d0\ub294 \ubcf8 \ud648\ud398\uc774\uc9c0\uc5d0 \uc0ac\uc6a9\uc774 \ubd88\uac00\ub2a5\ud558\uba70, \ubcf8 \ud648\ud398\uc774\uc9c0\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."})]})})})]})]}):Object(I.jsxs)("div",{className:w?oe.a.mainPageChange:oe.a.mainPage,children:[Object(I.jsxs)("div",{className:oe.a.logoBox,children:[Object(I.jsx)("span",{className:oe.a.logoName,children:"MAFYA"}),Object(I.jsx)("img",{className:oe.a.logo,src:se,alt:"preview"})]}),Object(I.jsxs)("div",{className:oe.a.seviceInfo,children:[Object(I.jsx)("p",{className:oe.a.catchPhrase,children:"Mafya\ub294 SSAFY\uc778\uc758 \uac74\uac15\ud55c \ucd9c\uc11d\uc744 \uc704\ud55c \ud504\ub85c\uadf8\ub7a8 \uc785\ub2c8\ub2e4."}),Object(I.jsx)("p",{className:oe.a.seviceDetail,children:"\ud559\uc0dd\ub4e4\uc740 \ubcf8\uc778\uc758 \ucd9c\uc11d\uc744 \ud655\uc778\ud558\uace0"}),Object(I.jsx)("p",{children:"\uad00\ub9ac\uc790\ub294 \ud559\uc0dd\ub4e4\uc758 \ud604\ud669\uc744 \uac04\ub2e8\ud558\uac8c \ud655\uc778\ud558\uc138\uc694!"})]})]})}),Object(I.jsxs)("div",{className:w?oe.a.starBackChange:oe.a.starBack,children:[Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars}),Object(I.jsx)("div",{className:oe.a.stars})]})]})},ue=n(447),le=n(84),de=n.n(le),be=n(449).a.circle(Y||(Y=Object(ue.a)(["\n  animation: circle-fill-animation 2s ease;\n\n  @keyframes circle-fill-animation {\n    0% {\n      stroke-dasharray: 0 ",";\n    }\n  }\n"])),2*Math.PI*90),me=function(e){var t=Object(a.useState)({}),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),s=Object(i.a)(o,2),u=s[0],l=s[1],d=Object(a.useState)(""),b=Object(i.a)(d,2),m=(b[0],b[1],Object(M.g)());return Object(a.useEffect)((function(){var t=localStorage.getItem("userCode");z.get(f+"attendance/situation/".concat(t,"/").concat(e.month>9?e.month:"0"+e.month),{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){console.log(e.data),c(e.data)})),l(!1)}),[e.month]),!u&&Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:de.a.attendTitle,children:[e.month,"\uc6d4 \ucd9c\uacb0 \ud604\ud669"]}),Object(I.jsxs)("div",{className:de.a.attendOverlay,children:[Object(I.jsxs)("div",{className:de.a.leftSide,children:[Object(I.jsx)("div",{className:de.a.userNameBox,children:Object(I.jsxs)("p",{children:[Object(I.jsx)("span",{className:de.a.userName,children:e.name})," \ub2d8",Object(I.jsx)("div",{className:de.a.logoutBtnBox,children:Object(I.jsx)("button",{className:de.a.logoutBtn,onClick:function(e){z.get(f+"student/logout/",{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){window.localStorage.clear(),m.push("/")})).catch((function(e){console.log(e)}))},children:Object(I.jsx)("span",{className:"material-symbols-outlined",children:"logout"})})})]})}),Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:de.a.percentageBox,children:r.totalDay?Object(I.jsxs)("div",{className:de.a.percentageP,children:[Math.ceil(r.participation/(r.participation+r.absent)*100),"%"]}):Object(I.jsx)("div",{className:de.a.percentageP,children:"0%"})}),Object(I.jsx)("div",{className:de.a.percentageChart,children:Object(I.jsxs)("svg",{viewBox:"0 0 200 200",children:[Object(I.jsx)("circle",{cx:"100",cy:"100",r:"78",fill:"none",stroke:"white",strokeWidth:"1"}),Object(I.jsx)("circle",{cx:"100",cy:"100",r:"90",fill:"none",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:"20"}),Object(I.jsx)(be,{cx:"100",cy:"100",r:"90",fill:"none",stroke:"white",strokeWidth:"20",strokeDasharray:"".concat(2*Math.PI*90*(r.participation/(r.participation+r.absent))," ").concat(2*Math.PI*90*(1-r.participation/(r.participation+r.absent))),strokeDashoffset:2*Math.PI*90*.25})]})})]})]}),Object(I.jsxs)("div",{className:de.a.rightSide,children:[Object(I.jsxs)("div",{className:de.a.attendOneFloor,children:[Object(I.jsxs)("div",{className:de.a.rightSideInfoBox,children:[Object(I.jsx)("p",{children:"\ucd9c\uc11d\uc218"}),Object(I.jsx)("div",{className:de.a.numBox,children:r.participation})]}),Object(I.jsxs)("div",{className:de.a.rightSideInfoBox,children:[Object(I.jsx)("p",{children:"\uad50\uc721 \uc77c\uc218"}),Object(I.jsx)("div",{className:de.a.numBox,children:r.totalDay})]})]}),Object(I.jsxs)("div",{className:de.a.attendTwoFloor,children:[Object(I.jsxs)("div",{className:de.a.rightSideInfoBox,children:[Object(I.jsx)("p",{children:"\uc9c0\uac01"}),Object(I.jsx)("div",{className:de.a.numBox,children:r.trady})]}),Object(I.jsxs)("div",{className:de.a.rightSideInfoBox,children:[Object(I.jsx)("p",{children:"\uacb0\uc11d"}),Object(I.jsx)("div",{className:de.a.numBox,children:r.absent})]})]})]})]})]})},fe=n(450),je=n(448),he=n(134),pe=n.n(he),xe=function(e){var t=e.info.event,n=t._def.extendedProps.type;return Object(I.jsx)("div",{className:"\uc785\uc2e4"===n?pe.a.eventSpanAttend:"\ud1f4\uc2e4"===n?pe.a.eventSpanAbscent:pe.a.eventSpanStatus,children:Object(I.jsx)("div",{className:"\ud604\ud669"===n?"\uacb0\uc11d"===t.title?pe.a.abscentColor:"\uc9c0\uac01"===t.title|"\uc870\ud1f4"===t.title?pe.a.tardyColor:pe.a.attendColor:pe.a.none,children:t.title})})},Oe=function(e){var t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),s=Object(i.a)(o,2),u=s[0],l=s[1],d=Object(a.useRef)();return Object(a.useEffect)((function(){c([]);var t=localStorage.getItem("userCode");z.get(f+"attendance/calendar/".concat(t),{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(t){var n=t.data,a=[];n.forEach((function(e){if(""!==e.enterTime){var t={title:e.enterTime+" \uc785\uc2e4",date:e.date,type:"\uc785\uc2e4"};a.push(t)}if(""!==e.exitTime){var n={title:e.exitTime+" \ud1f4\uc2e4",date:e.date,type:"\ud1f4\uc2e4"};a.push(n)}var r,c={title:(r=e.type,0===r?"\uc785\uc2e4":10===r?"\uc9c0\uac01":11===r?"\uc870\ud1f4":12===r?"\uc9c0\uac01":2===r?"\uc870\ud1f4":3===r?"\ud1f4\uc2e4":4===r?"\uc624\ub958":"\uacb0\uc11d"),date:e.date,type:"\ud604\ud669"};a.push(c)}));var r=a.filter((function(t,n){if(new Date(t.date).getMonth()+1===e.month)return!0}));c(r),l(!1)}))}),[e.month]),!u&&Object(I.jsx)("div",{className:pe.a.calenderOverlay,children:Object(I.jsx)("div",{className:pe.a.calenderOverlayInner,children:!u&&Object(I.jsx)(fe.a,{ref:d,defaultView:"dayGridMonth",plugins:[je.a],weekends:!0,contentHeight:"618px",events:r,eventContent:function(e){return Object(I.jsx)(xe,{info:e})},eventBackgroundColor:"transparent",eventBorderColor:"transparent",customButtons:{myCustomPrev:{text:Object(I.jsx)("span",{children:"<"}),click:function(){d.current.getApi().prev(),e.setMonth(1===e.month?12:e.month-1)},className:pe.a.leftBtn},myCustomToday:{text:Object(I.jsx)("span",{class:"material-symbols-outlined",children:"today"}),click:function(){d.current.getApi().today(),e.setMonth((new Date).getMonth()+1)}},myCustomNext:{text:Object(I.jsx)("span",{children:">"}),click:function(){d.current.getApi().next(),e.setMonth(e.month%12+1)}}},headerToolbar:{right:"myCustomPrev myCustomToday myCustomNext"}})})})},ge=(n(233),n(135)),we=n.n(ge),ve=function(e){var t,n=e.student,a=e.mmsHandler,r=e.setIds;return Object(I.jsx)("div",{className:0===n.attendanceStatus|3===n.attendanceStatus?we.a.teamBoxAttend:we.a.teamBoxAbscent,children:Object(I.jsxs)("div",{className:we.a.teamInner,children:[Object(I.jsx)("div",{className:we.a.teamName,children:Object(I.jsx)("span",{children:n.name})}),Object(I.jsx)("div",{className:we.a.teamStatus,children:Object(I.jsx)("span",{children:(t=n.attendanceStatus,0===t?"\uc785\uc2e4":10===t?"\uc9c0\uac01":11===t?"\uc870\ud1f4":12===t?"\uc9c0\uac01":2===t?"\uc870\ud1f4":3===t?"\ud1f4\uc2e4":4===t?"\uc624\ub958":"\uacb0\uc11d")})}),Object(I.jsxs)("button",{className:0===n.attendanceStatus|3===n.attendanceStatus?we.a.msgBtnFalse:we.a.msgBtnTrue,onClick:function(){a(),r(n.id)},disabled:!!(0===n.attendanceStatus|3===n.attendanceStatus),children:[Object(I.jsx)("span",{className:"material-symbols-outlined",children:"mail"}),Object(I.jsx)("span",{className:"material-symbols-outlined",children:"send"})]})]})})},_e=function(e){localStorage.getItem("teamCode");var t=Object(a.useState)([]),n=Object(i.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!0),s=Object(i.a)(o,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){var t=localStorage.getItem("teamCode");z.get(f+"attendance/team/".concat(t),{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(t){var n=t.data,a=n.findIndex((function(t){return t.id===e.userId}));n.splice(a,1),c(n.slice(0,5))})),l(!1)}),[]),console.log(e.userId),!u&&Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:we.a.teamMemberTitle,children:"\ud300\uc6d0 \ud604\ud669"}),Object(I.jsx)("div",{className:we.a.teamMemberOverlay,children:Object(I.jsx)("table",{className:we.a.table,children:r.map((function(t){return Object(I.jsx)(ve,{student:t,setIds:e.setIds,mmsHandler:e.mmsHandler},t.id)}))})})]})},Ce=n(194),ye=n.n(Ce),Ne=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),r=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(i.a)(o,2),u=s[0],l=s[1],d=Object(a.useState)(""),b=Object(i.a)(d,2),j=b[0],h=b[1],p=Object(a.useState)(null),x=Object(i.a)(p,2),O=x[0],g=x[1],w=Object(a.useState)(""),v=Object(i.a)(w,2),_=v[0],C=v[1],y=Object(a.useState)(""),N=Object(i.a)(y,2),k=N[0],B=N[1],S=Object(a.useState)(!0),P=Object(i.a)(S,2),T=P[0],A=P[1],D=n(107);return Object(a.useEffect)((function(){var e=localStorage.getItem("userCode"),t=new Date;c(t.getMonth()+1),m.a.get(f+"student/userCode/".concat(e),{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){B(e.data.userInfo.id),C(e.data.userInfo.name)})),A(!1)}),[]),r&&!T&&k&&_&&Object(I.jsxs)("div",{children:[Object(I.jsx)(ae,{open:u,close:function(){l(!1),h("")},header:"",children:Object(I.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={ids:[O],messages:j};console.log(t),z.post(f+"mms",t,{headers:{accessToken:window.localStorage.getItem("token")}}).then((function(e){D.fire({icon:"success",title:"\uba54\uc138\uc9c0\uac00 \uc804\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",timer:1500}),l(!1),h(""),g(null)})).catch((function(e){console.log(e)}))},children:[Object(I.jsx)("span",{children:"\uc804\uc1a1\ud560 \uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694!"}),Object(I.jsx)("div",{children:Object(I.jsx)("input",{type:"textarea",value:j,onChange:function(e){var t=e.target.value;h(t)}})}),Object(I.jsx)("div",{children:Object(I.jsx)("button",{type:"submit",className:"close",children:"\uc804\uc1a1"})})]})}),Object(I.jsx)("div",{className:ye.a.wholePage,children:Object(I.jsxs)("div",{className:ye.a.inner,children:[Object(I.jsxs)("div",{className:ye.a.statusBox,children:[Object(I.jsx)("div",{className:ye.a.attendInfoBox,children:Object(I.jsx)(me,{month:r,name:_})}),Object(I.jsx)("div",{className:ye.a.teamMemberBox,children:Object(I.jsx)(_e,{mmsHandler:function(e){l(!0)},setIds:g,userId:k})})]}),Object(I.jsx)("div",{className:ye.a.calenderBox,children:Object(I.jsx)(Oe,{setMonth:c,month:r})})]})})]})},ke=n.p+"static/media/notenroll.90469acc.mp3",Be=n.p+"static/media/putmask.ad8fe529.mp3",Se=n.p+"static/media/normalenter.fd5282d8.mp3",Pe=n.p+"static/media/abnormalenter.1bdf17b3.mp3",Te=n.p+"static/media/twoenter.e1d51a06.mp3",Ie=n.p+"static/media/correctmask.6a1fe2f3.mp3",Ae=n.p+"static/media/abnormalexit.f68f72dd.mp3",De=n.p+"static/media/normalexit.07eb3840.mp3",Fe=n.p+"static/media/notenroll1.90469acc.mp3",Me=n.p+"static/media/absent.02a9bf94.mp3",Ee=n(107);var Ue=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=r[0],l=r[1],b=Object(a.useState)(null),m=Object(i.a)(b,2),f=m[0],j=m[1],g=Object(a.useState)(!1),w=Object(i.a)(g,2),v=w[0],_=w[1],C=Object(a.useState)(!1),y=Object(i.a)(C,2),N=y[0],k=y[1],B=Object(a.useState)(null),S=Object(i.a)(B,2),P=S[0],T=S[1],D=Object(a.useState)(null),F=Object(i.a)(D,2),M=(F[0],F[1]),E=Object(a.useState)(!0),U=Object(i.a)(E,2),L=U[0],H=U[1],R=Object(a.useState)(!0),W=Object(i.a)(R,2),z=W[0],q=W[1],G=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},Y=function(t){return k(!0),new Promise((function(n){setTimeout(Object(s.a)(Object(o.a)().mark((function n(){var a,r,c,s,i;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getScreenshot(),r=G(a,"test1.jpeg"),(c=new FormData).set("file",r),c.set("userCode",t),n.next=7,O(c);case 7:if("0"!==(s=n.sent).data.status){n.next=24;break}return n.next=11,x(t);case 11:if(0!==(i=n.sent).data){n.next=18;break}return new Audio(Se).play(),Ee.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \ucd9c\uc11d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1),M(null)}),3e3)})));case 18:if(4!==i.data){n.next=22;break}return new Audio(Te).play(),Ee.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \uc774\ubbf8 \uc785\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1),M(null)}),3e3)})));case 22:n.next=39;break;case 24:if("1"!==s.data.status){n.next=30;break}return new Audio(Ie).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1)}),3e3)})));case 30:if("2"!==s.data.status){n.next=36;break}return new Audio(Ie).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1)}),3e3)})));case 36:return new Audio(Ie).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1)}),3e3)})));case 39:case"end":return n.stop()}}),n)}))))}),6e3)},J=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return _(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=G(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=14;break}return new Audio(Be).play(),Ee.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc5b4\uc11c\uc624\uc138\uc694."),showConfirmButton:!1,timer:2500}),M(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){Y(c.data.userCode)}),6e3)})));case 14:if("1"!==c.data.status){t.next=20;break}return new Audio(ke).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1)}),2500)})));case 20:if("2"!==c.data.status){t.next=24;break}return new Audio(ke).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1)}),2500)})));case 24:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),X=function(t,n){return k(!0),new Promise((function(a){setTimeout(Object(s.a)(Object(o.a)().mark((function a(){var r,c,s,i;return Object(o.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e.current.getScreenshot(),c=G(r,"test1.jpeg"),(s=new FormData).set("file",c),s.set("userCode",t),a.next=7,O(s);case 7:if("0"!==(i=a.sent).data.status){a.next=21;break}if(10!==n){a.next=15;break}return new Audio(Pe).play(),Ee.fire({icon:"success",title:"".concat(i.data.name,"\ub2d8 \uc9c0\uac01\uc785\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1),M(null)}),3e3)})));case 15:if(99!==n){a.next=19;break}return new Audio(Me).play(),Ee.fire({icon:"success",title:"".concat(i.data.name,"\ub2d8 \uc9c0\uac01 \ub204\uc801\uc73c\ub85c \uacb0\uc11d\ud588\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1),M(null)}),3e3)})));case 19:a.next=36;break;case 21:if("1"!==i.data.status){a.next=27;break}return new Audio(Ie).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1)}),3e3)})));case 27:if("2"!==i.data.status){a.next=33;break}return new Audio(Ie).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1)}),3e3)})));case 33:return new Audio(Ie).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),a.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),k(!1)}),3e3)})));case 36:case"end":return a.stop()}}),a)}))))}),6e3)},K=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return _(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c,s;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=G(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=30;break}return t.next=10,x(c.data.userCode);case 10:if(3!==(s=t.sent).data&&12!==s.data){t.next=17;break}return new Audio(De).play(),Ee.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \ud1f4\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1)}),2500)})));case 17:if(2!==s.data&&11!==s.data){t.next=23;break}return new Audio(Ae).play(),Ee.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc870\uae30\ud1f4\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1)}),2500)})));case 23:if(10!==s.data&&99!==s.data){t.next=28;break}return new Audio(Be).play(),Ee.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc785\uc2e4\ud588\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),M(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){X(c.data.userCode,s.data)}),6e3)})));case 28:t.next=40;break;case 30:if("1"!==c.data.status){t.next=36;break}return new Audio(ke).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1)}),2500)})));case 36:if("2"!==c.data.status){t.next=40;break}return new Audio(Fe).play(),Ee.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1)}),2500)})));case 40:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=function(e){if(c.getHours()<9){if(e){var t=setInterval((function(){J(e)}),1e3);j(t)}v&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(f),j(null))}else{if(e){var n=setInterval((function(){K(e)}),1e3);j(n)}v&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(f),j(null))}};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),T(t),H(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(P),P&&!v?(console.log("\ud655\uc778"),Z(P)):P&&v&&Z(null)}),[v,P]),Object(a.useEffect)((function(){var e=setInterval((function(){l(new Date)}));return clearInterval(e)}),[]),Object(I.jsxs)("div",{className:h.a.mainPageContainer,children:[Object(I.jsx)("div",{className:h.a.webCamBox,style:{display:L||z?"none":""},children:Object(I.jsx)("div",{className:N?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:v?N?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea,onUserMedia:function(){console.log("\uc6f9\ucea0 \ub85c\ub529\ub05d\ub0ac\uc5b4\uc694!!"),q(!1)}}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})}),Object(I.jsx)("div",{style:{display:L||z?"":"none"},children:Object(I.jsx)(A,{})})]})},Le=(n(670),n(74)),He=function(){return!!localStorage.getItem("userCode")},Re=function(){return!!localStorage.getItem("isManager")},We=["component","restricted"];function ze(e){var t=e.component,n=e.restricted,a=Object(Le.a)(e,We);return Object(I.jsx)(M.b,Object(U.a)(Object(U.a)({},a),{},{render:function(e){return Re()&&n?Object(I.jsx)(M.a,{to:"/admin"}):He()&&n?Object(I.jsx)(M.a,{to:"/student"}):Object(I.jsx)(t,Object(U.a)({},e))}}))}var qe=["component"];function Ge(e){var t=e.component,n=Object(Le.a)(e,qe);return Object(I.jsx)(M.b,Object(U.a)(Object(U.a)({},n),{},{render:function(e){return He()&&!Re()?Object(I.jsx)(t,Object(U.a)({},e)):Object(I.jsx)(M.a,{to:"/"})}}))}var Ye=["component"];function Je(e){var t=e.component,n=Object(Le.a)(e,Ye);return Object(I.jsx)(M.b,Object(U.a)(Object(U.a)({},n),{},{render:function(e){return Re()?Object(I.jsx)(t,Object(U.a)({},e)):Object(I.jsx)(M.a,{to:"/"})}}))}var Xe=n(107);var Ke=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],_=j[1],C=Object(a.useState)(!1),N=Object(i.a)(C,2),k=N[0],B=N[1],S=Object(a.useState)(null),P=Object(i.a)(S,2),T=P[0],A=P[1],D=Object(a.useState)(null),F=Object(i.a)(D,2),M=(F[0],F[1]),E=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},U=function(t){return B(!0),new Promise((function(n){setTimeout(Object(s.a)(Object(o.a)().mark((function n(){var a,r,c,s;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getScreenshot(),r=E(a,"test1.jpeg"),(c=new FormData).set("file",r),c.set("userCode",t),n.next=7,O(c);case 7:if("0"!==(s=n.sent).data.status){n.next=14;break}return new Audio(v).play(),Xe.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \ucd9c\uc11d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),B(!1),M(null)}),3e3)})));case 14:if("1"!==s.data.status){n.next=20;break}return new Audio(y).play(),Xe.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),B(!1)}),3e3)})));case 20:if("2"!==s.data.status){n.next=26;break}return new Audio(y).play(),Xe.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),B(!1)}),3e3)})));case 26:return new Audio(y).play(),Xe.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1),B(!1)}),3e3)})));case 29:case"end":return n.stop()}}),n)}))))}),6e3)},L=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return _(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=E(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=14;break}return new Audio(w).play(),Xe.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc5b4\uc11c\uc624\uc138\uc694."),showConfirmButton:!1,timer:2500}),M(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){U(c.data.userCode)}),6e3)})));case 14:if("1"!==c.data.status){t.next=20;break}return new Audio(g).play(),Xe.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1)}),2500)})));case 20:if("2"!==c.data.status){t.next=24;break}return new Audio(g).play(),Xe.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){_(!1)}),2500)})));case 24:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),H=function(e){if(e){var t=setInterval((function(){L(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),A(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(T),T&&!x?(console.log("\ud655\uc778"),H(T)):T&&x&&H(null)}),[x,T]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsx)("div",{className:h.a.mainPageContainer,children:Object(I.jsx)("div",{className:k?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?k?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})})},Ze=n(107);var Ve=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],v=j[1],C=Object(a.useState)(!1),N=Object(i.a)(C,2),k=N[0],B=N[1],S=Object(a.useState)(null),P=Object(i.a)(S,2),T=P[0],D=P[1],F=Object(a.useState)(null),M=Object(i.a)(F,2),E=(M[0],M[1]),U=Object(a.useState)(!0),L=Object(i.a)(U,2),H=L[0],R=L[1],W=Object(a.useState)(!0),z=Object(i.a)(W,2),q=z[0],G=z[1],Y=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},J=function(t){return B(!0),new Promise((function(n){setTimeout(Object(s.a)(Object(o.a)().mark((function n(){var a,r,c,s;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getScreenshot(),r=Y(a,"test1.jpeg"),(c=new FormData).set("file",r),c.set("userCode",t),n.next=7,O(c);case 7:if("0"!==(s=n.sent).data.status){n.next=14;break}return new Audio(_).play(),Ze.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \uc9c0\uac01\uc785\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1),B(!1),E(null)}),3e3)})));case 14:if("1"!==s.data.status){n.next=20;break}return new Audio(y).play(),Ze.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1),B(!1)}),3e3)})));case 20:if("2"!==s.data.status){n.next=26;break}return new Audio(y).play(),Ze.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1),B(!1)}),3e3)})));case 26:return new Audio(y).play(),Ze.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1),B(!1)}),3e3)})));case 29:case"end":return n.stop()}}),n)}))))}),6e3)},X=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return v(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=Y(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=14;break}return new Audio(w).play(),Ze.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc5b4\uc11c\uc624\uc138\uc694."),showConfirmButton:!1,timer:2500}),E(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){J(c.data.userCode)}),6e3)})));case 14:if("1"!==c.data.status){t.next=20;break}return new Audio(g).play(),Ze.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1)}),2500)})));case 20:if("2"!==c.data.status){t.next=24;break}return new Audio(g).play(),Ze.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1)}),2500)})));case 24:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),K=function(e){if(e){var t=setInterval((function(){X(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),D(t),R(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(T),T&&!x?(console.log("\ud655\uc778"),K(T)):T&&x&&K(null)}),[x,T]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsxs)("div",{className:h.a.mainPageContainer,children:[Object(I.jsx)("div",{className:h.a.webCamBox,style:{display:H||q?"none":""},children:Object(I.jsx)("div",{className:k?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?k?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea,onUserMedia:function(){console.log("\uc6f9\ucea0 \ub85c\ub529\ub05d\ub0ac\uc5b4\uc694!!"),G(!1)}}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})}),Object(I.jsx)("div",{style:{display:H||q?"":"none"},children:Object(I.jsx)(A,{})})]})},Qe=n(107);var $e=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],v=j[1],_=Object(a.useState)(!1),C=Object(i.a)(_,2),N=C[0],k=C[1],B=Object(a.useState)(null),P=Object(i.a)(B,2),T=P[0],A=P[1],D=Object(a.useState)(null),F=Object(i.a)(D,2),M=(F[0],F[1]),E=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},U=function(t){return k(!0),new Promise((function(n){setTimeout(Object(s.a)(Object(o.a)().mark((function n(){var a,r,c,s;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getScreenshot(),r=E(a,"test1.jpeg"),(c=new FormData).set("file",r),c.set("userCode",t),n.next=7,O(c);case 7:if("0"!==(s=n.sent).data.status){n.next=14;break}return new Audio(S).play(),Qe.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \uc9c0\uac01 \ub204\uc801\uc73c\ub85c \uacb0\uc11d\ud588\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1),k(!1),M(null)}),3e3)})));case 14:if("1"!==s.data.status){n.next=20;break}return new Audio(y).play(),Qe.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1),k(!1)}),3e3)})));case 20:if("2"!==s.data.status){n.next=26;break}return new Audio(y).play(),Qe.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1),k(!1)}),3e3)})));case 26:return new Audio(y).play(),Qe.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1),k(!1)}),3e3)})));case 29:case"end":return n.stop()}}),n)}))))}),6e3)},L=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return v(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=E(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=14;break}return new Audio(w).play(),Qe.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc5b4\uc11c\uc624\uc138\uc694."),showConfirmButton:!1,timer:2500}),M(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){U(c.data.userCode)}),6e3)})));case 14:if("1"!==c.data.status){t.next=20;break}return new Audio(g).play(),Qe.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1)}),2500)})));case 20:if("2"!==c.data.status){t.next=24;break}return new Audio(g).play(),Qe.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){v(!1)}),2500)})));case 24:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),H=function(e){if(e){var t=setInterval((function(){L(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),A(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(T),T&&!x?(console.log("\ud655\uc778"),H(T)):T&&x&&H(null)}),[x,T]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsx)("div",{className:h.a.mainPageContainer,children:Object(I.jsx)("div",{className:N?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?N?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})})},et=n(107);var tt=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],g=j[1],w=Object(a.useState)(!1),v=Object(i.a)(w,2),_=v[0],C=v[1],y=Object(a.useState)(null),N=Object(i.a)(y,2),k=N[0],B=N[1],S=Object(a.useState)(null),P=Object(i.a)(S,2),T=(P[0],P[1]),D=Object(a.useState)(!0),F=Object(i.a)(D,2),M=F[0],E=F[1],U=Object(a.useState)(!0),L=Object(i.a)(U,2),H=L[0],R=L[1],W=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},z=function(t){return C(!0),new Promise((function(n){setTimeout(Object(s.a)(Object(o.a)().mark((function n(){var a,r,c,s;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getScreenshot(),r=W(a,"test1.jpeg"),(c=new FormData).set("file",r),c.set("userCode",t),n.next=7,O(c);case 7:if("0"!==(s=n.sent).data.status){n.next=14;break}return new Audio(Se).play(),et.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \ucd9c\uc11d\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1),T(null)}),3e3)})));case 14:if("1"!==s.data.status){n.next=20;break}return new Audio(Ie).play(),et.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 20:if("2"!==s.data.status){n.next=26;break}return new Audio(Ie).play(),et.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 26:return new Audio(Ie).play(),et.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 29:case"end":return n.stop()}}),n)}))))}),6e3)},q=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return g(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=W(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=14;break}return new Audio(Be).play(),et.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc5b4\uc11c\uc624\uc138\uc694."),showConfirmButton:!1,timer:2500}),T(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){z(c.data.userCode)}),6e3)})));case 14:if("1"!==c.data.status){t.next=20;break}return new Audio(ke).play(),et.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1)}),2500)})));case 20:if("2"!==c.data.status){t.next=24;break}return new Audio(ke).play(),et.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1)}),2500)})));case 24:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),G=function(e){if(e){var t=setInterval((function(){q(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),B(t),E(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(k),k&&!x?(console.log("\ud655\uc778"),G(k)):k&&x&&G(null)}),[x,k]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsxs)("div",{className:h.a.mainPageContainer,children:[Object(I.jsx)("div",{style:{display:M||H?"none":""},children:Object(I.jsx)("div",{className:_?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?_?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea,onUserMedia:function(){console.log("\uc6f9\ucea0 \ub85c\ub529\ub05d\ub0ac\uc5b4\uc694!!"),R(!1)}}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})}),Object(I.jsx)("div",{style:{display:M||H?"":"none"},children:Object(I.jsx)(A,{})})]})},nt=n(107);var at=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],g=j[1],w=Object(a.useState)(!1),v=Object(i.a)(w,2),_=v[0],C=v[1],y=Object(a.useState)(null),N=Object(i.a)(y,2),k=N[0],B=N[1],S=Object(a.useState)(null),P=Object(i.a)(S,2),T=(P[0],P[1]),A=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},D=function(t){return C(!0),new Promise((function(n){setTimeout(Object(s.a)(Object(o.a)().mark((function n(){var a,r,c,s;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getScreenshot(),r=A(a,"test1.jpeg"),(c=new FormData).set("file",r),c.set("userCode",t),n.next=7,O(c);case 7:if("0"!==(s=n.sent).data.status){n.next=14;break}return new Audio(Pe).play(),nt.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \uc9c0\uac01\uc785\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1),T(null)}),3e3)})));case 14:if("1"!==s.data.status){n.next=20;break}return new Audio(Ie).play(),nt.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 20:if("2"!==s.data.status){n.next=26;break}return new Audio(Ie).play(),nt.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 26:return new Audio(Ie).play(),nt.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 29:case"end":return n.stop()}}),n)}))))}),6e3)},F=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return g(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=A(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=14;break}return new Audio(Be).play(),nt.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc5b4\uc11c\uc624\uc138\uc694."),showConfirmButton:!1,timer:2500}),T(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){D(c.data.userCode)}),6e3)})));case 14:if("1"!==c.data.status){t.next=20;break}return new Audio(ke).play(),nt.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1)}),2500)})));case 20:if("2"!==c.data.status){t.next=24;break}return new Audio(ke).play(),nt.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1)}),2500)})));case 24:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),M=function(e){if(e){var t=setInterval((function(){F(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),B(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(k),k&&!x?(console.log("\ud655\uc778"),M(k)):k&&x&&M(null)}),[x,k]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsx)("div",{className:h.a.mainPageContainer,children:Object(I.jsx)("div",{className:_?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?_?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})})},rt=n(107);var ct=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],g=j[1],w=Object(a.useState)(!1),v=Object(i.a)(w,2),_=v[0],C=v[1],y=Object(a.useState)(null),N=Object(i.a)(y,2),k=N[0],B=N[1],S=Object(a.useState)(null),P=Object(i.a)(S,2),T=(P[0],P[1]),A=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},D=function(t){return C(!0),new Promise((function(n){setTimeout(Object(s.a)(Object(o.a)().mark((function n(){var a,r,c,s;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.current.getScreenshot(),r=A(a,"test1.jpeg"),(c=new FormData).set("file",r),c.set("userCode",t),n.next=7,O(c);case 7:if("0"!==(s=n.sent).data.status){n.next=14;break}return new Audio(Me).play(),rt.fire({icon:"success",title:"".concat(s.data.name,"\ub2d8 \uc9c0\uac01 \ub204\uc801\uc73c\ub85c \uacb0\uc11d\ud588\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1),T(null)}),3e3)})));case 14:if("1"!==s.data.status){n.next=20;break}return new Audio(Ie).play(),rt.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 20:if("2"!==s.data.status){n.next=26;break}return new Audio(Ie).play(),rt.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 26:return new Audio(Ie).play(),rt.fire({icon:"error",title:"\uc624\ub958",text:"\ub9c8\uc2a4\ud06c\ub97c \ucc29\uc6a9\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",showConfirmButton:!1,timer:3e3}),n.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1),C(!1)}),3e3)})));case 29:case"end":return n.stop()}}),n)}))))}),6e3)},F=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return g(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=A(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=14;break}return new Audio(Be).play(),rt.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc5b4\uc11c\uc624\uc138\uc694."),showConfirmButton:!1,timer:2500}),T(c.data.userCode),t.abrupt("return",new Promise((function(e){setTimeout((function(){D(c.data.userCode)}),6e3)})));case 14:if("1"!==c.data.status){t.next=20;break}return new Audio(ke).play(),rt.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1)}),2500)})));case 20:if("2"!==c.data.status){t.next=24;break}return new Audio(ke).play(),rt.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){g(!1)}),2500)})));case 24:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),M=function(e){if(e){var t=setInterval((function(){F(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),B(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(k),k&&!x?(console.log("\ud655\uc778"),M(k)):k&&x&&M(null)}),[x,k]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsx)("div",{className:h.a.mainPageContainer,children:Object(I.jsx)("div",{className:_?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?_?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})})},ot=n(107);var st=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],O=j[1],g=Object(a.useState)(!1),w=Object(i.a)(g,2),v=w[0],_=(w[1],Object(a.useState)(null)),C=Object(i.a)(_,2),y=C[0],N=C[1],k=Object(a.useState)(null),B=Object(i.a)(k,2),S=(B[0],B[1],Object(a.useState)(!0)),P=Object(i.a)(S,2),T=P[0],D=P[1],F=Object(a.useState)(!0),M=Object(i.a)(F,2),E=M[0],U=M[1],L=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},H=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return O(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=L(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=13;break}return new Audio(Ae).play(),ot.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc870\uae30\ud1f4\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 13:if("1"!==c.data.status){t.next=19;break}return new Audio(ke).play(),ot.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 19:if("2"!==c.data.status){t.next=23;break}return new Audio(Fe).play(),ot.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 23:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),R=function(e){if(e){var t=setInterval((function(){H(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),N(t),D(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(y),y&&!x?(console.log("\ud655\uc778"),R(y)):y&&x&&R(null)}),[x,y]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsxs)("div",{className:h.a.mainPageContainer,children:[Object(I.jsx)("div",{className:h.a.webCamBox,style:{display:T||E?"none":""},children:Object(I.jsx)("div",{className:v?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?v?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea,onUserMedia:function(){console.log("\uc6f9\ucea0 \ub85c\ub529\ub05d\ub0ac\uc5b4\uc694!!"),U(!1)}}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})}),Object(I.jsx)("div",{style:{display:T||E?"":"none"},children:Object(I.jsx)(A,{})})]})},it=n(107);var ut=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],O=j[1],g=Object(a.useState)(!1),w=Object(i.a)(g,2),v=w[0],_=(w[1],Object(a.useState)(null)),C=Object(i.a)(_,2),y=C[0],N=C[1],k=Object(a.useState)(null),B=Object(i.a)(k,2),S=(B[0],B[1],function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})}),P=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return O(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=S(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=13;break}return new Audio(De).play(),it.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \ud1f4\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 13:if("1"!==c.data.status){t.next=19;break}return new Audio(ke).play(),it.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 19:if("2"!==c.data.status){t.next=23;break}return new Audio(Fe).play(),it.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 23:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),T=function(e){if(e){var t=setInterval((function(){P(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),N(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(y),y&&!x?(console.log("\ud655\uc778"),T(y)):y&&x&&T(null)}),[x,y]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsx)("div",{className:h.a.mainPageContainer,children:Object(I.jsx)("div",{className:v?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?v?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})})},lt=n(107);var dt=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],O=j[1],w=Object(a.useState)(!1),v=Object(i.a)(w,2),_=v[0],C=(v[1],Object(a.useState)(null)),y=Object(i.a)(C,2),k=y[0],S=y[1],P=Object(a.useState)(null),T=Object(i.a)(P,2),A=(T[0],T[1],function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})}),D=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return O(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=A(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=13;break}return new Audio(N).play(),lt.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \uc870\uae30\ud1f4\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 13:if("1"!==c.data.status){t.next=19;break}return new Audio(g).play(),lt.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 19:if("2"!==c.data.status){t.next=23;break}return new Audio(B).play(),lt.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 23:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),F=function(e){if(e){var t=setInterval((function(){D(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),S(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(k),k&&!x?(console.log("\ud655\uc778"),F(k)):k&&x&&F(null)}),[x,k]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsx)("div",{className:h.a.mainPageContainer,children:Object(I.jsx)("div",{className:_?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?_?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})})},bt=n(107);var mt=function(){var e=Object(a.useRef)(null),t=Object(a.useRef)(null),n=Object(a.useState)(new Date),r=Object(i.a)(n,2),c=(r[0],r[1],Object(a.useState)(null)),l=Object(i.a)(c,2),b=l[0],m=l[1],f=Object(a.useState)(!1),j=Object(i.a)(f,2),x=j[0],O=j[1],w=Object(a.useState)(!1),v=Object(i.a)(w,2),_=v[0],C=(v[1],Object(a.useState)(null)),y=Object(i.a)(C,2),N=y[0],S=y[1],P=Object(a.useState)(null),T=Object(i.a)(P,2),D=(T[0],T[1],Object(a.useState)(!0)),F=Object(i.a)(D,2),M=F[0],E=F[1],U=Object(a.useState)(!0),L=Object(i.a)(U,2),H=L[0],R=L[1],W=function(e,t){for(var n=e.split(","),a=n[0].match(/:(.*?);/)[1],r=atob(n[1]),c=r.length,o=new Uint8Array(c);c--;)o[c]=r.charCodeAt(c);return new File([o],t,{type:a})},z=function(){var n=Object(s.a)(Object(o.a)().mark((function n(a){var r,c,i,u,l,d;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof e.current||null===e.current||4!==e.current.video.readyState){n.next=19;break}return r=e.current.video,c=e.current.video.videoWidth,i=e.current.video.videoHeight,e.current.video.width=c,e.current.video.height=i,t.current.width=c,t.current.height=i,n.next=10,a.detect(r);case 10:if(u=n.sent,t.current.getContext("2d"),console.log(u),l=u?u.filter((function(e){return"person"===e.class&&e.score>=.8})):null,d=l?l.filter((function(e){return 15<=e.bbox[0]<=160&&15<=e.bbox[1]<=160&&e.bbox[2]>=350&&e.bbox[3]>=300})):[],console.log(d),!(d.length>0)){n.next=19;break}return O(!0),n.abrupt("return",new Promise((function(t){setTimeout(Object(s.a)(Object(o.a)().mark((function t(){var n,a,r,c;return Object(o.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.current.getScreenshot(),a=W(n,"test.jpeg"),(r=new FormData).set("file",a),t.next=6,p(r);case 6:if("0"!==(c=t.sent).data.status){t.next=13;break}return new Audio(k).play(),bt.fire({icon:"success",title:"".concat(c.data.name,"\ub2d8 \ud1f4\uc2e4\ud558\uc168\uc2b5\ub2c8\ub2e4."),showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 13:if("1"!==c.data.status){t.next=19;break}return new Audio(g).play(),bt.fire({icon:"error",title:"\uc624\ub958",text:"DB\uc5d0 \ub4f1\ub85d\ub41c \uc0ac\uc6a9\uc790\uac00 \uc544\ub2d9\ub2c8\ub2e4.",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 19:if("2"!==c.data.status){t.next=23;break}return new Audio(B).play(),bt.fire({icon:"error",title:"\uc624\ub958",text:"\uc911\uc559\uc73c\ub85c \uc640\uc8fc\uc138\uc694",showConfirmButton:!1,timer:2500}),t.abrupt("return",new Promise((function(e){setTimeout((function(){O(!1)}),2500)})));case 23:case"end":return t.stop()}}),t)}))),2e3)})));case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),q=function(e){if(e){var t=setInterval((function(){z(e)}),1e3);m(t)}x&&(console.log("\uc778\uac04 \uc778\uc2dd",e),clearInterval(b),m(null))};return Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(Object(o.a)().mark((function e(){var t;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.load();case 2:t=e.sent,console.log("\ubaa8\ub378 \uc5c5\ub85c\ub4dc \ub05d"),S(t),E(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){console.log(N),N&&!x?(console.log("\ud655\uc778"),q(N)):N&&x&&q(null)}),[x,N]),Object(a.useEffect)((function(){return clearInterval(b)}),[]),Object(I.jsxs)("div",{className:h.a.mainPageContainer,children:[Object(I.jsx)("div",{className:h.a.webCamBox,style:{display:M||H?"none":""},children:Object(I.jsx)("div",{className:_?h.a.humanNow:h.a.noHumanNow,children:Object(I.jsxs)("div",{className:x?_?h.a.tmp:h.a.detectNow:h.a.nodetectNow,children:[Object(I.jsx)(d.a,{ref:e,muted:!0,mirrored:!0,screenshotFormat:"image/jpeg",className:h.a.webCamArea,onUserMedia:function(){console.log("\uc6f9\ucea0 \ub85c\ub529\ub05d\ub0ac\uc5b4\uc694!!"),R(!1)}}),Object(I.jsx)("canvas",{ref:t,className:h.a.webCanvas})]})})}),Object(I.jsx)("div",{style:{display:M||H?"":"none"},children:Object(I.jsx)(A,{})})]})};var ft=function(){return Object(I.jsx)("div",{children:Object(I.jsx)(E.a,{children:Object(I.jsxs)(M.d,{children:[Object(I.jsx)(Je,{exact:!0,path:"/enter",component:J}),Object(I.jsx)(Je,{exact:!0,path:"/admin/form",component:V}),Object(I.jsx)(Je,{exact:!0,path:"/admin",component:re}),Object(I.jsx)(Je,{exact:!0,path:"/admin/woman/0",component:Ke}),Object(I.jsx)(Je,{exact:!0,path:"/admin/woman/2",component:dt}),Object(I.jsx)(Je,{exact:!0,path:"/admin/woman/3",component:mt}),Object(I.jsx)(Je,{exact:!0,path:"/admin/woman/10",component:Ve}),Object(I.jsx)(Je,{exact:!0,path:"/admin/woman/99",component:$e}),Object(I.jsx)(Je,{exact:!0,path:"/admin/man/0",component:tt}),Object(I.jsx)(Je,{exact:!0,path:"/admin/man/2",component:st}),Object(I.jsx)(Je,{exact:!0,path:"/admin/man/3",component:ut}),Object(I.jsx)(Je,{exact:!0,path:"/admin/man/10",component:at}),Object(I.jsx)(Je,{exact:!0,path:"/admin/man/99",component:ct}),Object(I.jsx)(ze,{restricted:!0,exact:!0,path:"/",component:ie}),Object(I.jsx)(Je,{exact:!0,path:"/camera",component:Ue}),Object(I.jsx)(Ge,{exact:!0,path:"/student",component:Ne})]})})})};c.a.render(Object(I.jsx)(ft,{}),document.getElementById("root"))},68:function(e,t,n){e.exports={mainPageChange:"loginPage_mainPageChange__311s0",fadeout:"loginPage_fadeout__3_4JM",mainPage:"loginPage_mainPage__2Et6D",logoName:"loginPage_logoName__1_6qS",logoBox:"loginPage_logoBox__KSXKB",logo:"loginPage_logo__1R2-B",seviceInfo:"loginPage_seviceInfo__kYOIE",catchPhrase:"loginPage_catchPhrase__25mH2",seviceDetail:"loginPage_seviceDetail__mf9Sq",loginInput:"loginPage_loginInput__2u8NP",stars:"loginPage_stars__2CkFA",twinkle:"loginPage_twinkle__1b75S",starBackChange:"loginPage_starBackChange__1ySOI",loginBackBefore:"loginPage_loginBackBefore__2ddC2",loginBackChanger:"loginPage_loginBackChanger__1z6sx",loginBack:"loginPage_loginBack__3yxo9",gradient:"loginPage_gradient__3yw6g",overlay:"loginPage_overlay__2SKwp",overlay_inner:"loginPage_overlay_inner__3XU_W",overlay_title:"loginPage_overlay_title__3Z82V",division:"loginPage_division__1xmpI",inputBox:"loginPage_inputBox__3glxO",passwordBox:"loginPage_passwordBox__3B_7T",loginBtnBox:"loginPage_loginBtnBox__ZbIDJ",loginBtn:"loginPage_loginBtn__1sdQs",loginBtnFalse:"loginPage_loginBtnFalse__PjYLX",infoBox:"loginPage_infoBox__2zM4q",clauseText:"loginPage_clauseText__1FyIw",wave:"loginPage_wave__2cGMT",drift:"loginPage_drift__2rjSO",waveThree:"loginPage_waveThree__1iJ-y",waveTwo:"loginPage_waveTwo__3lHOP",fadein:"loginPage_fadein__1o6S4"}},71:function(e,t,n){e.exports={wholePage:"studentForm_wholePage__jG6Ti",firstPageBox:"studentForm_firstPageBox__2wSNi",overlay:"studentForm_overlay__-FarN",createTitle:"studentForm_createTitle__U9T32",imagePosition:"studentForm_imagePosition__3A31R",imagePlace:"studentForm_imagePlace__ynUAK",imagePos:"studentForm_imagePos__1rlIZ",imageBox:"studentForm_imageBox__1zFwx",cutImage:"studentForm_cutImage__1erJB",userInputSpan:"studentForm_userInputSpan__1fajw",userInputDiv:"studentForm_userInputDiv__3JfWJ",userInput:"studentForm_userInput__FP-Va",spacingLine:"studentForm_spacingLine__2zbj4",userCodeDiv:"studentForm_userCodeDiv__2P2MI",userCodeInput:"studentForm_userCodeInput__1tDLB",userCodeBtns:"studentForm_userCodeBtns__39Zti",userCodeBtnsFalse:"studentForm_userCodeBtnsFalse__VlJql",userTeamInput:"studentForm_userTeamInput__1BDq4",centered:"studentForm_centered__1Kkxm",registerBtn:"studentForm_registerBtn__1Ypp8",registerBtnFalse:"studentForm_registerBtnFalse__7GRgn",resetBtn:"studentForm_resetBtn__2QDhx",backBtn:"studentForm_backBtn__3xG57",tgl:"studentForm_tgl__PsGbA",tglbtn:"studentForm_tglbtn__ewo-w",tgllight:"studentForm_tgllight__2PBoj",tglios:"studentForm_tglios__3MALU",tglskewed:"studentForm_tglskewed__31am7",tglflat:"studentForm_tglflat__2lzEi",tglflip:"studentForm_tglflip__1G0NF"}},84:function(e,t,n){e.exports={attendTitle:"attendInformation_attendTitle__3EC7f",attendOverlay:"attendInformation_attendOverlay__25mz2",leftSide:"attendInformation_leftSide__11br9",userNameBox:"attendInformation_userNameBox__30IVB",userName:"attendInformation_userName__2nN8L",percentageChart:"attendInformation_percentageChart__2_TEh",percentageBox:"attendInformation_percentageBox__U0h2L",percentageP:"attendInformation_percentageP__7vSO9",logoutBtnBox:"attendInformation_logoutBtnBox___T-pO",logoutBtn:"attendInformation_logoutBtn__12CfW",rightSide:"attendInformation_rightSide__3mljM",rightSideInfoBox:"attendInformation_rightSideInfoBox__1iAgM",numBox:"attendInformation_numBox__2WtB6",attendOneFloor:"attendInformation_attendOneFloor__X75lB",attendTwoFloor:"attendInformation_attendTwoFloor__nE6sU"}},91:function(e,t,n){e.exports={menuToggle:"adminHeader_menuToggle__3dqMB",menu:"adminHeader_menu__3t8NV",logoutBtn:"adminHeader_logoutBtn__3oovc",webCamBtn:"adminHeader_webCamBtn__GNjV3",webCamList:"adminHeader_webCamList__2oK1S",noRegiAllUserBox:"adminHeader_noRegiAllUserBox__IK5AH",regiAllUser:"adminHeader_regiAllUser__2Xipp",regiAllUserBox:"adminHeader_regiAllUserBox__2wl2I",fadeInUp1:"adminHeader_fadeInUp1__2P21U",notUploadedFile:"adminHeader_notUploadedFile__1mAw8",uploadedFile:"adminHeader_uploadedFile__p8yNQ",noDownAllUserBox:"adminHeader_noDownAllUserBox__10D5O",downAllUser:"adminHeader_downAllUser__3LH5X",downAllUserBox:"adminHeader_downAllUserBox__3sutx",onThisPage:"adminHeader_onThisPage__7LD-u"}}},[[671,1,2]]]);
//# sourceMappingURL=main.ff7648ed.chunk.js.map